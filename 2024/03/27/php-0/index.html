<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>PHP | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="PHP是一种运行在服务器的脚本语言，可以嵌入到HTML中  PHP代码标记使用多种标记来区分php脚本 ASP标记 ： 1&lt;% php代码 %&gt;  短标记： 1&lt;? php代码 ?&gt;  以上两种基本不用了，用的话可以去配置文件中打开：short_open_tag 脚本标记： 12&lt;script language&#x3D;&quot;php&quot;&gt;php代码&lt;">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP">
<meta property="og:url" content="http://example.com/2024/03/27/php-0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="PHP是一种运行在服务器的脚本语言，可以嵌入到HTML中  PHP代码标记使用多种标记来区分php脚本 ASP标记 ： 1&lt;% php代码 %&gt;  短标记： 1&lt;? php代码 ?&gt;  以上两种基本不用了，用的话可以去配置文件中打开：short_open_tag 脚本标记： 12&lt;script language&#x3D;&quot;php&quot;&gt;php代码&lt;">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-03-27T11:33:34.000Z">
<meta property="article:modified_time" content="2024-03-27T11:44:02.301Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-php-0" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/27/php-0/" class="article-date">
  <time class="dt-published" datetime="2024-03-27T11:33:34.000Z" itemprop="datePublished">2024-03-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      PHP
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>PHP是一种运行在服务器的脚本语言，可以嵌入到HTML中</p>
<hr>
<h2 id="PHP代码标记"><a href="#PHP代码标记" class="headerlink" title="PHP代码标记"></a>PHP代码标记</h2><p>使用多种标记来区分php脚本</p>
<p>ASP标记 ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;% php代码 %&gt;</span><br></pre></td></tr></table></figure>

<p>短标记：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;? php代码 ?&gt;</span><br></pre></td></tr></table></figure>

<p>以上两种基本不用了，用的话可以去配置文件中打开：short_open_tag</p>
<p>脚本标记：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script language=&quot;php&quot;&gt;php代码&lt;/script&gt;</span><br><span class="line">可能版本问题，这个也不只能好用</span><br></pre></td></tr></table></figure>

<p>标准标记</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">代码</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="PHP注释"><a href="#PHP注释" class="headerlink" title="PHP注释"></a>PHP注释</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">行注释：//注释内容  </span><br><span class="line">		# 注释内容</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">块注释</span><br><span class="line">/*</span><br><span class="line">注释内容</span><br><span class="line">注释内容</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>

<p>PHP语句分割符</p>
<p>在php中，代码是以行为单位，系统通过判断行的结束，该结束通常都是一个符号：;(英文状态下的分号)</p>
<p>特殊说明：</p>
<ol>
<li>PHP中标记结束符?&gt;有自带结束符的效果，最后一行php代码可以没有;号</li>
<li>php中所有的代码都要加$</li>
</ol>
<h2 id="单引号双引号"><a href="#单引号双引号" class="headerlink" title="单引号双引号"></a>单引号双引号</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、双引号会解析字符串中的变量，而单引号不会。</span><br><span class="line">2、在单引号定义的字符串中只能转义单引号和转义符本身，而在双引号定义的字符串中，可以转义更多的特殊字符。</span><br><span class="line">3、在字符处理上单引号要优与双引号。</span><br></pre></td></tr></table></figure>



<h2 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h2><p>预定义变量：系统定义的变量，存储许多用到的数据（预定义变量都是数组）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$_GET:获取所有表单以get方式提交的的数据</span><br><span class="line">$_POST：POST提交的数据都会保存再此</span><br><span class="line">$_REQUEST:GET和POST提交的数据都会保存</span><br><span class="line">$_GLOUBALS:PHP中的所有全局变量</span><br><span class="line">$_SERVER：服务器信息</span><br><span class="line">$_SESSION：session会话数据</span><br><span class="line">$_COOKIE：cookie会话数据</span><br><span class="line">$_EVN：环境信息</span><br><span class="line">$_FILES：用户上传的文件信息</span><br></pre></td></tr></table></figure>

<h2 id="可变变量"><a href="#可变变量" class="headerlink" title="可变变量"></a>可变变量</h2><p>如果一个变量保存的值刚好是另一个变量的名字，那么可以直接通过访问另一个变量得到另一个变量的值;在变量前多加一个$</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$a = 1;</span><br><span class="line">$b = $a; //值传递</span><br><span class="line">$a = 5;</span><br><span class="line">echo $a,$b,&#x27;&lt;hr/&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">$s = 6;</span><br><span class="line">$d = &amp;$s; //地址传递</span><br><span class="line">$s = 9;</span><br><span class="line">echo $s,$d;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="变量传值"><a href="#变量传值" class="headerlink" title="变量传值"></a>变量传值</h2><p>值传递：将变量保存的值赋值一份，然后将新的值给另一个变量保存（两个变量没有关系）</p>
<p>地址（引用）传递：将变量保存的值所在的内存地址，传递给另一个变量，两个变量指向同一块内存空间（两个变量是同一个值）</p>
<h2 id="系统常量"><a href="#系统常量" class="headerlink" title="系统常量"></a>系统常量</h2><p>PHP_VERSION:PHP版本号</p>
<p>PHP_INT_SIZE:整形大小</p>
<p>PHP_INT_MAX:整形能表示的最大值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//系统常量</span><br><span class="line">echo &#x27;&lt;hr/&gt;&#x27;,PHP_VERSION,&#x27;&lt;hr/&gt;&#x27;,PHP_INT_SIZE,&#x27;&lt;hr/&gt;&#x27;,PHP_INT_MAX;</span><br><span class="line"></span><br><span class="line">//魔术常量</span><br><span class="line">echo &#x27;&lt;br/&gt;&#x27;,__DIR__,&#x27;&lt;br/&gt;&#x27;,__FILE__,&#x27;&lt;br/&gt;&#x27;,__LINE__,&#x27;&lt;br/&gt;&#x27;,</span><br><span class="line">__LINE__;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="魔术常量"><a href="#魔术常量" class="headerlink" title="魔术常量"></a>魔术常量</h2><p>在PHP中还有一些特殊的常量，他们有双下划线开始+长两名+双下划线结束，这种常量称之为系统魔术常量：魔术常量的值通常会跟着环境变化，但是用户改变不了</p>
<p><strong>DIR</strong>:当前被执行的脚本所在电脑的绝对路径</p>
<p>__FILE__：当前被执行脚本所在电脑的绝对路径（带自己文件的名字）</p>
<p>__LINE__：当前所属的行数</p>
<h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><p>在很多的条件下，需要指定的数据类型，需要外部数据（当前PHP取得的数据），转换成目标数据类型</p>
<p>在PHP中有两种类型转换方式：</p>
<ol>
<li>自动转换：系统根据需求自己判定，自己转换（用的比较多，效率偏低）</li>
</ol>
<p>​	2、强制（手动）转换：认为根据需要的目标类型转换</p>
<p>强制转换规则：在变量之前增加一个括号（）；然后在里面上写对应类型：int&#x2F;interger…</p>
<p>NULL类型要用到unset()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//数据类型转换</span><br><span class="line">$a = &#x27;abc.2.1&#x27;;</span><br><span class="line">$b = &#x27;3.6.1abc&#x27;;</span><br><span class="line"></span><br><span class="line">echo $a + $b;   //自动转换  算数+运算，系统先转成数值类型（整形和浮点型），然后运算</span><br><span class="line">echo &#x27;&lt;hr&gt;&#x27;;</span><br><span class="line">echo (float)$a + (float)$b;//强制（手动）转换 </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>其他类型转数值的说明</p>
<p>1、布尔true为1，false为0；</p>
<p>2、字符串数值有自己的规则</p>
<p>2.1、以字母开头的字符串，永远为0</p>
<p>2.2、以数字开头的字符串，取到碰到字符换为止（不会同时包含两个小数点）</p>
<h2 id="类型判断"><a href="#类型判断" class="headerlink" title="类型判断"></a>类型判断</h2><p>通过一组类型判断函数，来判断变量，最终返回这个变量所保存数据的数据类型（相同结果为true，失败为false）：是一组以is_开头后面跟类型名字的函数：is_XXX(变量名)</p>
<p>Bool类型不能用echo查看，可以使用var_dump结构查看</p>
<p>Var_dump(变量1,变量2…)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//数据类型转换</span><br><span class="line">$a = &#x27;abc.1.1&#x27;;</span><br><span class="line">$b = &#x27;1.1.1abc&#x27;;</span><br><span class="line"></span><br><span class="line">var_dump(is_int($a));</span><br><span class="line">var_dump(is_string($b));</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>还有一组函数可以用来获取以及设定数据变量的类型</p>
<p>Gettype(变量名):获取类型，得到的是该类型对应的字符串</p>
<p>Settype(变量名，’类型’)：设定数据类型，与强制转换不同</p>
<p>1、强制转换（类型）变量名，是对数据复制的内容进行处理（不会处理实际存储的内容）</p>
<p>2、settype会直接改变数据本身</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//数据类型转换</span><br><span class="line">$a = &#x27;abc.1.1&#x27;;</span><br><span class="line">$b = &#x27;1.1.1abc&#x27;;</span><br><span class="line">echo gettype($a),&#x27;&lt;hr&gt;&#x27;,gettype($b),&#x27;&lt;hr&gt;&#x27;; //查看数据类型gettype</span><br><span class="line">Var_dump(settype($a,&#x27;int&#x27;));//改变数据类型</span><br><span class="line">echo &#x27;&lt;hr&gt;&#x27;,gettype($a),&#x27;&lt;hr&gt;&#x27;,gettype($b);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="整数类型"><a href="#整数类型" class="headerlink" title="整数类型"></a>整数类型</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//定义4种整型数据</span><br><span class="line">$a1 = 110;//10进制</span><br><span class="line">$a2 = 0b110;//2进制</span><br><span class="line">$a3 = 0110;//8进制</span><br><span class="line">$a4 = 0x110;//16进制</span><br><span class="line">echo $a1,&#x27;--&#x27;,$a2,&#x27;--&#x27;,$a3,&#x27;--&#x27;,$a4;//默认的php输出数值都会转变为10进制</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bindec() — 二进制转换为十进制 </span><br><span class="line">decbin() — 十进制转换为二进制 </span><br><span class="line">dechex() — 十进制转换为十六进制 </span><br><span class="line">decoct() — 十进制转换为八进制 </span><br><span class="line">hexdec() — 十六进制转换为十进制 </span><br><span class="line">octdec() — 八进制转换为十进制</span><br><span class="line">base_convert()– 在任意进制之间转换数字</span><br></pre></td></tr></table></figure>

<h2 id="浮点类型"><a href="#浮点类型" class="headerlink" title="浮点类型"></a>浮点类型</h2><p>整形超过自身存储的大小之后会用浮点型存储</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$f1 = 1.23;</span><br><span class="line">$f2 = 1.23e10;//e表示以10为低</span><br><span class="line">$f3 = PHP_INT_MAX + 1;//PHP_INT_MAX表示整数integer值的最大值</span><br><span class="line">var_dump($f1,$f2,$f3);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h3 id="浮点型判断"><a href="#浮点型判断" class="headerlink" title="浮点型判断"></a>浮点型判断</h3><p>浮点型存储数据不太准确</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$f1 = 0.7;</span><br><span class="line">$f2 = 2.1;</span><br><span class="line">$f3 = $f2 / 3;</span><br><span class="line">var_dump($f1 == $f3);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h2><p>false、true</p>
<p>在进行某些数据判断的时候，需要特别注意类型转换</p>
<p>Empty():判断数据的值是否为空，如果为空返回true，不为空返回false(一个不存在的变量也会返回true)</p>
<p>lsset：判断数据存储的变量本身是否存在，存在返回true，不存在返回false （其变量本身还要有值）</p>
<h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p>符号是“&#x3D;”，表示将右边的结果（可以是变量，数据，常量，和其他运算出来的结果	），保存到内存的某个位置，然后将位置的内存地址赋值给左侧的变量（常量）。</p>
<h2 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+：执行数据累加</span><br><span class="line">-：数据相减</span><br><span class="line">*：键盘上没有乘法符号，使用*代替，两个数相乘</span><br><span class="line">/：正斜杠代替，表示两个数相除</span><br><span class="line">%：取余运算，两个数相除，保留余数</span><br></pre></td></tr></table></figure>

<h2 id="比较运算符（返回结果都是布尔类型）"><a href="#比较运算符（返回结果都是布尔类型）" class="headerlink" title="比较运算符（返回结果都是布尔类型）"></a>比较运算符（返回结果都是布尔类型）</h2><p>&gt;</p>
<p>&gt;&#x3D;</p>
<p>&lt;</p>
<p>&lt;&#x3D;</p>
<p>&#x3D;&#x3D;:左边与右边相等（大小相同）</p>
<p>!&#x3D;:左边与右边不同（大小不同）</p>
<p>&#x3D;&#x3D;&#x3D;:全等于，左边与右边相同：的大小以及数据类型都要相同</p>
<p>!&#x3D;&#x3D;&#x3D;:不全等于，只有大小或者类型不同</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//比较运算符</span><br><span class="line">$f1 = &#x27;123&#x27;;     //字符串</span><br><span class="line">$f2 = 123;      //整形</span><br><span class="line">$f3 = null;</span><br><span class="line">var_dump($f1 == $f2);</span><br><span class="line">var_dump($f1 === $f2);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><h2 id="（针对不同结果进行匹配，满足条件返回true，不满足返回false）"><a href="#（针对不同结果进行匹配，满足条件返回true，不满足返回false）" class="headerlink" title="（针对不同结果进行匹配，满足条件返回true，不满足返回false）"></a>（针对不同结果进行匹配，满足条件返回true，不满足返回false）</h2><p>&amp;&amp;:逻辑与，左边的条件与右边的条件同时成立（两边结果都为true）</p>
<p>||：逻辑或，左边的条件或者右边的条件只要有一个满足即可</p>
<p>!:逻辑非，对已有条件进行取反，本身为true，取反结果为false</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//逻辑运算符</span><br><span class="line">$f1 = &#x27;weeked&#x27;;     </span><br><span class="line">$f2 = &#x27;good&#x27;;      </span><br><span class="line">$f3 = null;</span><br><span class="line">var_dump($f1 == &#x27;weeked&#x27; &amp;&amp; $f2 == &#x27;goods&#x27;);//逻辑与</span><br><span class="line">echo &#x27;&lt;hr&gt;&#x27;;</span><br><span class="line">var_dump($f1 == &#x27;weeked&#x27; || $f2 == &#x27;goods&#x27;);//逻辑或</span><br><span class="line">echo &#x27;&lt;hr&gt;&#x27;;</span><br><span class="line">var_dump($f2 == &#x27;goods&#x27;);</span><br><span class="line">var_dump(!($f2 == &#x27;goods&#x27;));//逻辑非</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



<h2 id="连接运算符"><a href="#连接运算符" class="headerlink" title="连接运算符"></a>连接运算符</h2><p>连接运算：是PHP中将多个字符串拼接的一种符号</p>
<p>.	将两个字符串连接在一起</p>
<p>.&#x3D;	复合运算类似于+&#x3D;，将左边的内容和右边的内容连接起来。然后重新赋值给左边变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A.=p ===== A=A.b</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//连接运算符</span></span><br><span class="line"><span class="meta">&lt;?</span>PHP</span><br><span class="line"><span class="variable">$a</span> = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="number">123</span>;------&gt;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$a</span>.<span class="variable">$b</span>,<span class="string">&#x27;&lt;hr&gt;&#x27;</span>;</span><br><span class="line"><span class="variable">$a</span>.=<span class="variable">$b</span>;-------&gt;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$a</span>;</span><br><span class="line"> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="错误抑制符"><a href="#错误抑制符" class="headerlink" title="错误抑制符"></a>错误抑制符</h2><p>在PHP中有一些错误可以提前预知，但是这些错误可能无法避免，但是又不希望报错给用户看，可以使用报错抑制符处理。</p>
<p>错误抑制符通常在产品上线谁用到，在开发时不用，系统本身最好不会出现任何错误</p>
<p>@：在可能存在的表达式前面使用@</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$a = 10;</span><br><span class="line">$b = 0;</span><br><span class="line"> @($a/$b);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



<h2 id="三木运算符"><a href="#三木运算符" class="headerlink" title="三木运算符"></a>三木运算符</h2><p>三木运算：有三个表达式参与的运算 （简单的分支结构缩写）；可以嵌套<br>语法格式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">表达式1?表达式2:表达式3</span><br><span class="line">运算：如果表达式1成立，那么执行表达式2，否则执行表达式3</span><br><span class="line">注意：如果表达式本身比较复杂，建议使用括号抱起来</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">$a = 10;</span><br><span class="line">$b = $a &gt; 10 ? 100 : 0;</span><br><span class="line">echo $b;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



<h2 id="自操作运算符"><a href="#自操作运算符" class="headerlink" title="自操作运算符"></a>自操作运算符</h2><p>++：原值+1</p>
<p>–：原址-1</p>
<p>$a++:后置自操作，先把自己的值留下来，然后改变自己，自己给别人的是原来的值</p>
<p>++$b:前置自操作，先改变自己，然后把改变的值给别人</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$a = 1;</span><br><span class="line">$b = 1;</span><br><span class="line"></span><br><span class="line">$a++;</span><br><span class="line">++$b;  //独立运算，不参与其他操作</span><br><span class="line"></span><br><span class="line">echo $a,$b,&#x27;&lt;hr&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">echo ++$a,$b++,&#x27;&lt;hr&gt;&#x27;;  //参与了输出运算</span><br><span class="line"></span><br><span class="line">echo $a,$b;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



<p>衍生符号：类似自操作</p>
<p>​			+&#x3D;</p>
<p>​			-&#x3D;</p>
<p>​			*&#x3D;</p>
<p>​			&#x2F;&#x3D;</p>
<p>​			%&#x3D;</p>
<p>如果进行除法或者取余运算，要考虑右边表达式的结果是否为0</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$a =10;</span><br><span class="line">$b = 5;</span><br><span class="line"></span><br><span class="line">$a-=$b-1;//$a = $a - ($b-1);  优先级！！！</span><br><span class="line"></span><br><span class="line">echo $a;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



<h2 id="计算机码"><a href="#计算机码" class="headerlink" title="计算机码"></a>计算机码</h2><p><strong>系统存储补码</strong></p>
<p>计算机码：计算机在实际存储数据的时候，采用的编码规则（二进制规则）</p>
<p>计算机码：原码、反码、补码，数值本身最左边以为是用来充当符号位：正数为0，负数为1</p>
<p>原码：数据本身从十进制转换为二进制得到的结果</p>
<p>​	正数：左边符号位为0（正数的原码、反码、补码就是原码本身）</p>
<p>​	负数：左边符号位为1</p>
<p>反码：针对负数，符号位不变，其他位取反 </p>
<p>补码：针对负数，反码+1</p>
<h2 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h2><p>位运算：取计算机中最小的单位（位bit）进行运算</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&amp;：按位与，两位都为1，结果为1，否则为0</span><br><span class="line"></span><br><span class="line">|：按位或，两个有一个为1，结果为1</span><br><span class="line"></span><br><span class="line">~：按位非，一个位如果为1，则变成0，否则反之</span><br><span class="line"></span><br><span class="line">^:按位异或，两个相同则为0，不同则为1</span><br><span class="line"></span><br><span class="line">&lt;&lt;:按位左移，整个位（32位），向左移动一位，右边补0-------&gt;乘以2的操作</span><br><span class="line"></span><br><span class="line">&gt;&gt;:按位右移，整个位（32位），向右移动一位，左边补符号位对应内容（正数补0，负数补1）</span><br></pre></td></tr></table></figure>

<p>注意：1、系统进行任何运算的时候都是使用的补码</p>
<p>​			2、运算结束之后必须转换成原码，才是最终显示的数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//计算机码</span><br><span class="line">$a = 5;</span><br><span class="line">$b = -5;</span><br><span class="line">/*</span><br><span class="line">5	原码：00000101</span><br><span class="line">	反码：00000101   </span><br><span class="line">	补码：00000101</span><br><span class="line"></span><br><span class="line">-5：原码：10000101</span><br><span class="line">    反码：11111010 --符号位不变，其他位取反</span><br><span class="line">	补码：11111011 --反码+1</span><br><span class="line">*/</span><br><span class="line">//按位与</span><br><span class="line">var_dump($a &amp; $b);</span><br><span class="line">/*</span><br><span class="line">5补码：00000101</span><br><span class="line">-5补码:11111011</span><br><span class="line">&amp;:	  00000001</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">//按位非</span><br><span class="line">var_dump(~$a);</span><br><span class="line">/*</span><br><span class="line">5	补码：00000101</span><br><span class="line">~    取反：11111010</span><br><span class="line">运算后为负数，-1变为反码--&gt;11111001</span><br><span class="line">取反变为原码-------------&gt;10000110----&gt;转为10进制为-6</span><br><span class="line">*/</span><br><span class="line">//按位右移</span><br><span class="line">var_dump($b&gt;&gt;2);</span><br><span class="line">/*</span><br><span class="line">5	补码：11111011</span><br><span class="line">&gt;&gt;2		 11111110</span><br><span class="line">-1变为反码：11111101</span><br><span class="line">取反变为原码：10000010-----&gt;-2</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



<h2 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h2><h2 id="控制分类"><a href="#控制分类" class="headerlink" title="控制分类"></a>控制分类</h2><p>顺序结构：代码从上到下，顺序执行。（代码执行的最基本结构）</p>
<p>分支结构：给定一个条件，同时有多种可执行代码（块），然后会根据条件执行某一段代码</p>
<p>循环结构：在某个条件控制范围内，指定的代码块可以重复执行</p>
<h2 id="顺序结构"><a href="#顺序结构" class="headerlink" title="顺序结构"></a>顺序结构</h2><p>最基本的结构，所有代码默认都是从上往下依次执行</p>
<h2 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h2><h3 id="if分支"><a href="#if分支" class="headerlink" title="if分支"></a>if分支</h3><p>​		最简if：只有一段代码，但是可以选择是否执行</p>
<p>​		基本if：有两面性，满足条件或者不满足条件都有对应的代码执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if(条件表达式)&#123;</span><br><span class="line"></span><br><span class="line">//满足条件执行代码</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">//不满足条件执行代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​		复杂if结构：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if(条件表达式1)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">elseif(条件表达式2)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">elseif(条件表达式3)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">else&#123;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$a = &#x27;sunday&#x27;;</span><br><span class="line"></span><br><span class="line">if($a == &#x27;sunday&#x27;)&#123;</span><br><span class="line">echo &#x27;play&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">elseif($a == &#x27;staday&#x27;)&#123;</span><br><span class="line">echo &#x27;at home&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">echo &#x27;NO&#x27;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



<h3 id="switch分支"><a href="#switch分支" class="headerlink" title="switch分支"></a>switch分支</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">switch(条件表达式)&#123;  //条件表达式结果一定是一个值</span><br><span class="line">case 值 1：执行代码；  </span><br><span class="line">break； //结束执行case</span><br><span class="line">case 值 2：执行代码</span><br><span class="line">break；</span><br><span class="line">...</span><br><span class="line">default:代码 //匹配失败代码</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$a = 2;</span><br><span class="line">switch($a)&#123;</span><br><span class="line">case 1:  //$a == 1</span><br><span class="line">	echo &#x27;1&#x27;;</span><br><span class="line">	break;</span><br><span class="line">case 2:</span><br><span class="line">	echo &#x27;2&#x27;;</span><br><span class="line">	break;</span><br><span class="line">case 3:</span><br><span class="line">	echo &#x27;3&#x27;;</span><br><span class="line">	break;</span><br><span class="line">default:</span><br><span class="line">	echo &#x27;NO&#x27;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



<h2 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h2><p>for循环：通过条件、起始、终止判断执行</p>
<p>while循环：通过判断条件终止</p>
<p>Do-while循环：跟while差不多</p>
<p>foreach循环：专门针对数组</p>
<h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">for(条件表达式1；条件表达式2；条件表达示3)&#123;</span><br><span class="line">//条件表达式1：定义初始化条件，可以有多种赋值语句存在，使用逗号分隔即可；只执行一次</span><br><span class="line">//条件表达式2：边界判定，限定循环次数</span><br><span class="line">//条件表达式3：用来执行条件变化</span><br><span class="line">循环体</span><br><span class="line">&#125;</span><br><span class="line">for循环（）里面的条件可以没有（;必须保留），就会无限执行</span><br></pre></td></tr></table></figure>

<p>[</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">for($i=1,$end=10;$i&lt;=$end;$i++)&#123; //</span><br><span class="line">echo &#x27;$i&#x27;,&#x27;&lt;br&gt;&#x27;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>



<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$i = 1; //初始化条件在外面</span><br><span class="line">while($i&lt;=10)&#123;  //判定边界</span><br><span class="line">echo $i++,&#x27;&lt;br&gt;&#x27;;//循环体</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h3 id="do-while"><a href="#do-while" class="headerlink" title="do-while"></a>do-while</h3><p>先执行，在判断</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$i = 1;</span><br><span class="line">do&#123;</span><br><span class="line">if($i % 2 !=1)&#123;</span><br><span class="line">	echo $i,&#x27;&lt;br&gt;&#x27;;</span><br><span class="line">	&#125;</span><br><span class="line">	$i++;</span><br><span class="line">&#125;while($i&lt;=10);</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="循环结构-1"><a href="#循环结构-1" class="headerlink" title="循环结构"></a>循环结构</h2><p>continue：当前自己循环，后面内部不在执行，同时外部循环如果还有循环体也不再执行</p>
<p>break：当前自己结束，同时外部也结束（外部还有外部，不受影响 ）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$i = 1;</span><br><span class="line">while($i&lt;=100)&#123;</span><br><span class="line">	if($i % 5 != 0)&#123;</span><br><span class="line">		 $i++;</span><br><span class="line">		 continue; //break，执行第一次循环后就不在执行了</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	echo $i++,&#x27;&lt;br&gt;&#x27;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="流程控制代替语法"><a href="#流程控制代替语法" class="headerlink" title="流程控制代替语法"></a>流程控制代替语法</h2><p>PHP中具体有哪些代替语法呢？PHP应该在HTML中只做数据输出。输出通常有条件判断和循环操作，因此PHP提供了对应分支结构和循环结构的代替语法：全部都是对应的一个模式：</p>
<p>{左大括号使用冒号代替:</p>
<p>}右大括号使用end+对应的其实标记代替</p>
<p>if：if():	endif</p>
<p>switch：switch():	endswitch</p>
<p>for：for():	endfor</p>
<p>while：while():	endwhile</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">99乘法表</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = 1;</span><br><span class="line">$b = 1;</span><br><span class="line">while($b&lt;=9)&#123;</span><br><span class="line">    for($a = 1;$a&lt;=$b;$a++)&#123;</span><br><span class="line">        echo $a.&#x27;*&#x27;.$b.&#x27;=&#x27;.$a*$b;</span><br><span class="line">    &#125;</span><br><span class="line">    echo &#x27;&lt;br&gt;&#x27;;</span><br><span class="line">    $b++;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">打印一个99乘法表，用表格打印出出来，php与html联用</span><br><span class="line">&lt;table border=1&gt;</span><br><span class="line">&lt;?php for($j=1;$j&lt;10;$j++) &#123;?&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;?php for($i=1;$i&lt;=$j;$i++)&#123;?&gt;</span><br><span class="line">            &lt;td&gt;</span><br><span class="line">                &lt;?php echo $i.&#x27;*&#x27;.$j.&#x27;=&#x27;.$i*$j;?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &lt;/td&gt;</span><br><span class="line">        &lt;?php &#125;?&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">&lt;?php &#125;?&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line"></span><br><span class="line">等价代码</span><br><span class="line">&lt;table border=1&gt;</span><br><span class="line">&lt;?php for($j=1;$j&lt;10;$j++) :?&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;?php for($i=1;$i&lt;=$j;$i++):?&gt;</span><br><span class="line">            &lt;td&gt;</span><br><span class="line">                &lt;?php echo $i.&#x27;*&#x27;.$j.&#x27;=&#x27;.$i*$j;?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &lt;/td&gt;</span><br><span class="line">        &lt;?php endfor;?&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">&lt;?php endfor;?&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//for(;;)&#123;&#125;    &#123;---&gt;:    &#125;---&gt;endfor;</span><br></pre></td></tr></table></figure>



<h2 id="include和include-once区别"><a href="#include和include-once区别" class="headerlink" title="include和include_once区别"></a>include和include_once区别</h2><p>include：系统碰到一次，执行一次 ；对一个文件重复包含，会加载多次</p>
<p>include_once:系统包含多次，只会执行一次；对一个文件重复包含，只会加载一次</p>
<h2 id="include和require的区别"><a href="#include和require的区别" class="headerlink" title="include和require的区别"></a>include和require的区别</h2><p>include：包含文件出错后，继续执行include后面的代码</p>
<p>require:包含文件出错后，不会执行require后面的代码</p>
<p>require_once、require的区别与include、include_once区别差不多</p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">定义函数：</span><br><span class="line">function 函数名([参数])&#123; //[]意思是可有可无</span><br><span class="line">		函数体；</span><br><span class="line">		返回值；</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">function display()&#123;</span><br><span class="line">	echo &quot;hellow word&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">display();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>函数的特点：<strong>函数的调用可以在函数定义之前</strong></p>
<p>编译和执行是分开的（先编译后执行）</p>
<p>函数执行的内存分析：</p>
<ol>
<li>读取代码进入代码段（编译：将代码编成字节码存储到内存）</li>
<li>根据代码逐行执行</li>
</ol>
<h3 id="函数命名规范"><a href="#函数命名规范" class="headerlink" title="函数命名规范"></a>函数命名规范</h3><ol>
<li>命名规范：由字母、数字、下划线组成，但是不能以字母开头</li>
<li>函数作为一种常用结构，一般遵循以下规则<ul>
<li>驼峰法：showParent</li>
<li>下划线法：show_parent_info</li>
</ul>
</li>
</ol>
<h3 id="参数详解"><a href="#参数详解" class="headerlink" title="参数详解"></a>参数详解</h3><h4 id="形参"><a href="#形参" class="headerlink" title="形参"></a>形参</h4><p>形式参数，不具有 实际意义的参数，是函数定义时使用的参数</p>
<h4 id="实参"><a href="#实参" class="headerlink" title="实参"></a>实参</h4><p>实际参数，具有实际数据意义的参数，是函数调用时使用的参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//定义函数</span><br><span class="line">function add($arg1,$arg2)&#123;   //形参可以有多个，使用逗号分开即可	</span><br><span class="line">	echo $arg1+$arg2; //函数体：可以直接调用形参计算	</span><br><span class="line">&#125;</span><br><span class="line">//调用函数</span><br><span class="line">$numb = 10;</span><br><span class="line">add($numb,20);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、函数调用add函数：去内存中寻找是否有add函数</span><br><span class="line">2、系统会在栈区开辟内存空间运行函数add</span><br><span class="line">3、系统会查看函数本身是否由形参</span><br><span class="line">4、系统会判断调用的时候是由实参</span><br><span class="line">5、系统默认会将实参的值$numb,20取出，顺序赋值给形参，</span><br><span class="line">6、执行函数体</span><br><span class="line">7、返回函数执行</span><br></pre></td></tr></table></figure>

<h3 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h3><p>指的是形参的默认值，在函数定义的时候，就给形参一个初始赋值，如果实际调用传入的参数（实参）没有提供，那么形参就会使用定义时的值来参与函数内部运算；</p>
<p>注意</p>
<p>1、默认值的定义是放在最后右边的，不能左边形参有默认值，但右边没有</p>
<p>2、函数外部定义的变量名字与定义函数时用的形参名字不冲突，可以重名；多个函数使用相同的形参名字也没问题</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">function jian($numb1 = 0,$numb2 = 0)&#123; //当前$numb是形参，在编译时不执行，即便执行也是在jian函数内部，不会与外部的$numb变量冲突</span><br><span class="line">	echo $numb1-$numb2;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">//调用</span><br><span class="line">jian();</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h3 id="引用传递"><a href="#引用传递" class="headerlink" title="引用传递"></a>引用传递</h3><p>有的时候，希望在函数内部拿到的外部数据，能够在函数内部改变后，函数外部也改变，难么就需要明确告知函数（定义时），函数才会在调用的时候去主动获取外部数据的内存地址。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"><span class="variable">$a</span>,&amp;<span class="variable">$b</span></span>)</span>&#123; <span class="comment">//引用的变量b的数据存储地址</span></span><br><span class="line">	<span class="variable">$a</span> = <span class="variable">$a</span> * <span class="variable">$a</span>;</span><br><span class="line">	<span class="variable">$b</span> = <span class="variable">$b</span> * <span class="variable">$b</span>; <span class="comment">//修改了$b的数据</span></span><br><span class="line">	<span class="keyword">echo</span> <span class="variable">$a</span>, <span class="string">&#x27;&lt;br&gt;&#x27;</span>,<span class="variable">$b</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$a</span> = <span class="number">5</span>;</span><br><span class="line"><span class="variable">$b</span> = <span class="number">10</span>;</span><br><span class="line"><span class="title function_ invoke__">add</span>(<span class="variable">$a</span>,<span class="variable">$b</span>); <span class="comment">//此处传入的实参也必须是&#x27;$b&#x27;。</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;&lt;hr&gt;&#x27;</span>,<span class="variable">$a</span>,<span class="string">&#x27;&lt;br&gt;&#x27;</span>,<span class="variable">$b</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="函数体"><a href="#函数体" class="headerlink" title="函数体"></a>函数体</h3><p>函数体：函数内部（{大括号里面}）的所有代码都称之为函数体</p>
<p>函数体：基本上所有代码都可以实现</p>
<ul>
<li>定义变量</li>
<li>定义常量</li>
<li>使用流程控制（分支、循环）</li>
<li>可以调用函数</li>
</ul>
<h3 id="函数返回值"><a href="#函数返回值" class="headerlink" title="函数返回值"></a>函数返回值</h3><p>返回值：</p>
<p>1、return，指的是将函数实现的结果，通过return关键字。返回给函数外部（函数调用处），在PHP中所有函数都有返回值</p>
<p>如果没有明确return使用，那么系统默认返回null<br><strong>函数返回值可以是任意数据类型</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">function display()&#123;</span><br><span class="line">echo __FUNCTION__;  //无return</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">display();</span><br><span class="line">echo &#x27;&lt;br&gt;&#x27;;</span><br><span class="line">var_dump(display());</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">function display()&#123;</span><br><span class="line">return __FUNCTION__;</span><br><span class="line">echo __DIR__;//  此处魔术常量__DIR__不会执行，因为return直接结束函数，后面的内容不会执行</span><br><span class="line">&#125;</span><br><span class="line">display();</span><br><span class="line">echo &#x27;&lt;br&gt;&#x27;;</span><br><span class="line">var_dump(display());</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>2、return还可以在文件中直接使用（不在函数里面）：代表文件将结果return后面的内容，转交给包含当前文件的位置。（通常在系统配置文件中较多使用），在文件中也代表终止文件后面的代码，return后面的内容不会执行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//1.php:</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = 101;</span><br><span class="line">//echo $a,&#x27;&lt;br&gt;&#x27;;</span><br><span class="line">return &quot;hello world&quot;;</span><br><span class="line">echo $a;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">//2.php</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$v = include_once &#x27;1.php&#x27;;</span><br><span class="line">var_dump($v);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><p>作用域：变量（常量）能够访问的区域</p>
<ol>
<li>变量可以在普通代码中定义</li>
<li>变量也可以在函数内部定义</li>
</ol>
<p>在php中作用域严格来说分为两种：但是php内部还定义了一些在严格意义之外的一种，所以总共算三种：</p>
<ol>
<li><p>全局变量：用户普通定义的变量（函数外部定义）</p>
<ul>
<li>所属全局空间：在php中只允许在全局空间中使用：理论上函数内部不可访问</li>
<li>脚本周期：知道脚本运行结束（最后一行代码执行完）</li>
</ul>
</li>
<li><p>局部变量：在函数内部定义的变量</p>
<ul>
<li>所属局部空间：在php中只允许当前函数自己内部使用</li>
<li>函数周期：函数执行结束（函数是在栈区开辟独立内存空间运行）</li>
</ul>
</li>
<li><p>超全局变量：系统定义的变量（预定义变量：$_GET、$_POST等）</p>
<ul>
<li>所属超全局变量：没有访问限制（函数内外都可以访问）</li>
</ul>
<p>超全局变量会将全局变量纳入$GLOBALS里面，$GLOBALS没有作用域限制，所以能够帮助局部变量去访问全局变量：但是必须使用数组</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//函数内部访问全局变量</span><br><span class="line">&lt;?php</span><br><span class="line">$a = &quot;hello world&quot;；</span><br><span class="line"></span><br><span class="line">function display()&#123;</span><br><span class="line">	echo &quot;13&quot;,&#x27;&lt;br&gt;&#x27;;</span><br><span class="line">	echo $GLOBALS[&#x27;a&#x27;]; // 访问全局变量$a</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">display;  //调用函数</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>在php中还有一种方式，能够实现全局访问局部，同时局部也可以访问全局：global关键字</p>
<p>global关键字：</p>
<ol>
<li>如果使用global定义的变量名在外部存在（全局变量），那么系统在函数内部定义的变量直接指向外部全局变量所指向的内存空间（同一个变量）；</li>
<li>如果使用global定义的变量名在外部不存在（全局变量），系统会自动在全局空间定义一个与局部变量同名的全局变量</li>
</ol>
<p>本质：在函数的内部和外部，对一个同名变量（全局和局部）使用同一块内存地址保存数据，从而实现共同拥有。</p>
<p>global语法</p>
<p>global 变量名；</p>
<p>变量名 &#x3D; 值；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">global $a;</span><br><span class="line">$a = &#x27;hello world&#x27;;</span><br><span class="line"></span><br><span class="line">function display()&#123;</span><br><span class="line">    global $a;  //引用，全局变量存在</span><br><span class="line">	echo $a,&#x27;&lt;br&gt;&#x27;;  //局部访问全局，</span><br><span class="line">	</span><br><span class="line">	global $b;</span><br><span class="line">	$b = &quot;you sure?&quot;;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">display();</span><br><span class="line">echo $b;  //访问函数内部定义的变量， 不是局部变量了</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>虽然以上方式可以实现局部与全局的相互访问，但是通常不会这么用。一般如果会存在特殊使用，也会使用参数的形式来访问（还可以使用常量：define定义的）。</p>
<h2 id="静态变量"><a href="#静态变量" class="headerlink" title="静态变量"></a>静态变量</h2><p>原理：系统在进行编译时，会对static这一行进行初始化：为静态变量赋值，函数在调用时会自动跳过这一行</p>
<p>作用：1、统计当前函数被调用的次数</p>
<p>​			2、统筹函数多次调用得到的不同结果（递归思想）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">function display()&#123;</span><br><span class="line">	$a = 1;</span><br><span class="line">	static $b = 1;</span><br><span class="line">	echo $a++,$b++,&#x27;&lt;br&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">display();</span><br><span class="line">display();</span><br><span class="line">display();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="可变函数"><a href="#可变函数" class="headerlink" title="可变函数"></a>可变函数</h2><p>当前有一个变量保存的值，刚好是一个函数的名字，那么就可以使用变量+()来充当函数名使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">function display()&#123;</span><br><span class="line"></span><br><span class="line">	echo __FUNCTION__;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a = &quot;display&quot;;</span><br><span class="line">$a();</span><br><span class="line">?&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">function sys_function($age1,$age2)&#123;   //假设这是一个系统函数</span><br><span class="line">	$age2 = $age2 + 10; //对用户的输入做处理</span><br><span class="line">	return $age1($age2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function use_function($num)&#123;   //定义一个用户函数，求一个数的4次方   回调函数</span><br><span class="line"></span><br><span class="line">	return  $num * $num * $num * $num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var_dump(sys_function(&#x27;use_function&#x27;,10));</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line">//回调过程</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>将一个用户定义的函数传入给另一个函数去使用的过程，称之为回调过程，而被传入的函数称之为回调函数</p>
<h2 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$func = function()&#123;</span><br><span class="line">	echo &quot;hello word&quot;;</span><br><span class="line"></span><br><span class="line">&#125;;  //注意此处有；号</span><br><span class="line"></span><br><span class="line">//调用匿名函数</span><br><span class="line">$func();</span><br><span class="line">var_dump($func);//查看输出类型   object(Closure)#1 (0) &#123; &#125; ，保存匿名函数本质得到的是一个对象Closure</span><br><span class="line">?&gt;   </span><br></pre></td></tr></table></figure>

<p>闭包：</p>
<p>closure，一词来源于一下两着结合：要执行的代码块（由于自由变量被包含在代码块中，这些自由变量以及他们引用的对象没有被释放）和为自由变量提供绑定的计算环境（作用域）</p>
<p>简单理解：函数内部有一些局部变量（要执行的代码块）在函数执行之后没有被释放，<strong>是因为在函数内部还有对应的函数在引用</strong>（<strong>函数的内部函数：匿名函数）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">闭包函数</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">function display()&#123;</span><br><span class="line">	$name = __DIR__;</span><br><span class="line">	</span><br><span class="line">	$b = function() use($name)&#123;</span><br><span class="line">		echo $name;</span><br><span class="line">	&#125;;</span><br><span class="line">	return $b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">$a = display();  //当前局部变量$name在display（）函数运行的时候没有释放，所以在下面调用匿名函数的时候可以被使用。</span><br><span class="line"></span><br><span class="line">var_dump($a);</span><br><span class="line">echo &#x27;&lt;br&gt;&#x27;;</span><br><span class="line">$a();  </span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="伪类型"><a href="#伪类型" class="headerlink" title="伪类型"></a>伪类型</h2><h2 id="常用系统函数"><a href="#常用系统函数" class="headerlink" title="常用系统函数"></a>常用系统函数</h2><h3 id="有关输出函数"><a href="#有关输出函数" class="headerlink" title="有关输出函数"></a>有关输出函数</h3><p>print():类似于echo输出提供的内容，本质是一种结构（不是函数），返回1，可以不需要使用括号</p>
<p>print_r():类似于var_dump,但是比var_dump简单，不会输出数据类型 ，只会输出值（数组打印较多）</p>
<h3 id="有关时间的函数"><a href="#有关时间的函数" class="headerlink" title="有关时间的函数"></a>有关时间的函数</h3><p>date():按照指定格式对应的时间戳（从1970年格林威治时间开始计算的秒数），如果没有特定指定时间戳，那么就是默认当前的时间戳</p>
<p>time():获取当前时间对应的时间戳</p>
<p>microtime():微秒级</p>
<p>strtotime():按照规定格式的字符串转化成时间戳</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">//时间函数</span><br><span class="line">echo date(&#x27;Y-m-d H:i:s&#x27;),&#x27;&lt;br&gt;&#x27;;</span><br><span class="line">echo time(),&#x27;&lt;br&gt;&#x27;;</span><br><span class="line">echo microtime(),&#x27;&lt;br&gt;&#x27;;</span><br><span class="line">echo strtotime(&#x27;tomorrow 10 hours&#x27;);  //明天10小时</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h3 id="有关数学的函数"><a href="#有关数学的函数" class="headerlink" title="有关数学的函数"></a>有关数学的函数</h3><p>max():指定参数最大值</p>
<p>min():比较两个数中的最小值</p>
<p>rand():得到一个随机数，指定区间的随机整数</p>
<p>mt_rand(): 与rand一样，只是底层结构不一样，效率比rand高（建议使用）</p>
<p>round():四舍五入</p>
<p>ceil():向上取整（1.1，取2；比1.1大最小的整数）</p>
<p>floor():向下取整</p>
<p>pow():求指定数字的指定指数次结果：pow(2,3) &#x3D;&#x3D; 8</p>
<p>abs():求绝对值</p>
<p>sqrt():求平方根</p>
<h3 id="有关函数的函数"><a href="#有关函数的函数" class="headerlink" title="有关函数的函数"></a>有关函数的函数</h3><p>function_exists():判断指定的的函数名字是否在内存中存在（帮助用户不去使用一个不存在的函数，让代码安全性更高）</p>
<p>func_get_arg():在自定义函数中去获取指定数值对应的参数</p>
<p>func_get_args:在自定义函数中获取所有的参数（数组形式）</p>
<p>func_num_args():获取当前自定义函数的参数数量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line">function test($a,$b)&#123;</span><br><span class="line">    //获取指定参数，从零开始</span><br><span class="line">    var_dump(func_get_arg(1));</span><br><span class="line">    //在自定义函数中获取所有的参数（数组形式）</span><br><span class="line">    var_dump(func_get_args());</span><br><span class="line">    //获取当前自定义函数的参数数量</span><br><span class="line">    var_dump(func_num_args());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function_exists(&#x27;test&#x27;) &amp;&amp;  test(1,20,3,4); </span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><h3 id="错误分类"><a href="#错误分类" class="headerlink" title="错误分类"></a>错误分类</h3><ol>
<li>语法错误：用户书写的代码不符合PHP的语法规范，语法错误会导致代码在编译过程中不通过，所以代码不会执行（Parse error）</li>
<li>运行时错误：代码编译通过，但是代码在执行的过程中会出现一些条件不满足的错误（runtime error）</li>
<li>逻辑错误：程序员在写代码的时候不够规范，出现了一些逻辑性的错误，导致代码正常执行，但是得不到想要的结果。</li>
</ol>
<h3 id="错误代号"><a href="#错误代号" class="headerlink" title="错误代号"></a>错误代号</h3><p>所有看到的错误代码在PHP中都定义成了系统常量（可以直接使用）</p>
<ol>
<li><p>系统错误：</p>
<ul>
<li>E_PARSE:编译错误，代码不会执行</li>
<li>E_ERROR:  致命错误，会导致代码不能正确继续执行（出错的位置断掉）</li>
<li>E_WARNING：警告错误，不会影响代码执行，但是可能得到意想不到的结果</li>
<li>E_NOTICE：通知错误，不会影响代码执行</li>
</ul>
</li>
<li><p>用户错误:用户在使用自定义错误触达的时候</p>
<ul>
<li>E_USER_PARSE</li>
<li>E_USER_ERROR</li>
<li>E_USER_WARNING</li>
<li>E_USER_NOTICE</li>
</ul>
</li>
<li><p>其他</p>
<p>E_ALL，代表着所有错误（通常在进行错误控制的时候使用比较多），建议在开发过程中（开发环境）使用</p>
</li>
</ol>
<p>​		所有以E开头的错误常量（代号）其实都有一个字节存储，然后每一种错误占据一个对应的位，如果想进行一些错误的控制，可以使用位运算进行操作</p>
<p>排除通知级别notice：E_ALL&amp; ~E_NOTICE</p>
<p>只要警告和通知：E_WARNING | E_NOTICE</p>
<h3 id="错误触发"><a href="#错误触发" class="headerlink" title="错误触发"></a>错误触发</h3><ol>
<li><p>系统运行时触发：系统自动根据错误发生后，对比对应的错误信息，输出给用户；主要针对代码的语法错误和运行时的错误</p>
</li>
<li><p>认为触发：知道了某些逻辑可能会出错，从而使用对应的判断代码来触发相应的错提示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">//处理脚本让浏览器按照指定字符集解析的方法 </span><br><span class="line">header(&#x27;Content-type:text/html;charset=utf-8&#x27;);</span><br><span class="line">$a = 0;</span><br><span class="line"></span><br><span class="line">if($a == 0)&#123;</span><br><span class="line">    trigger_error(&#x27;除数不能为0！&#x27;);  //人为控制报错，trigger_error()函数设置报错信息,默认notice报错，代码会继续执行</span><br><span class="line">&#125;							//使用trigger_error(&#x27;除数不能为0！&#x27;,E_USER_ERROR);默认error错误，代码不会继续执行</span><br><span class="line">echo $b/$a;</span><br><span class="line">echo &#x27;&lt;br&gt;&#x27;,&#x27;hello&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="错误显示设置"><a href="#错误显示设置" class="headerlink" title="错误显示设置"></a>错误显示设置</h3><p>哪些错误该显示，以及该如何显示</p>
</li>
</ol>
<p>​	在php中有两种方式来设置档期脚本的错误处理</p>
<ol>
<li>php配置文件：全局配置php.ini文件<ul>
<li>Display_errors:是否显示错误	</li>
<li>Error_reporting:显示什么级别的错误</li>
</ul>
</li>
</ol>
<p>​	2.可以在运行的php脚本中设置,在脚本中定义的配置项级别比配置文件高</p>
<ul>
<li>Ini_set(‘配置文件中的配置项’,E_ALL);</li>
<li>Ini_set(‘error_reporting’,E_ALL);</li>
<li>Ini_set(‘display_error’,1);</li>
</ul>
<h3 id="错误日志设置"><a href="#错误日志设置" class="headerlink" title="错误日志设置"></a>错误日志设置</h3><ol>
<li>开启日志功能：在php.ini文件中  log_errors &#x3D; On</li>
<li>设置日志存储路径：在php.ini文件中   error_log &#x3D; ‘路径’</li>
</ol>
<h3 id="自定义错误处理"><a href="#自定义错误处理" class="headerlink" title="自定义错误处理"></a>自定义错误处理</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">//自定义函数处理机制</span><br><span class="line"></span><br><span class="line">//自定义函数</span><br><span class="line"></span><br><span class="line">function my_error($errno,$errstr,$errfile,$errline)&#123;</span><br><span class="line">    //判断，当前碰到的错误有哪些</span><br><span class="line">    if(!(error_reporting() &amp; $errno))&#123; //error_repoting没有参数代表当前获取系统错误处理对应的级别</span><br><span class="line">        return;                        //$erron，是系统提供的错误代码：E_ALL,E_NOTICE...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //判断错误类型</span><br><span class="line">    switch($errno)&#123;</span><br><span class="line">        case E_ERROR:</span><br><span class="line">        case E_USER_ERROR:</span><br><span class="line">            echo &#x27;fatal error in file&#x27;.$errfile.&#x27;on line&#x27;.$errline.&#x27;&lt;br&gt;&#x27;;</span><br><span class="line">            echo &#x27;error info :&#x27;.$errstr;</span><br><span class="line">            break;</span><br><span class="line">        case E_NOTICE:</span><br><span class="line">        case E_USER_NOTICE:</span><br><span class="line">            echo &#x27;notice error in file&#x27;.$errfile.&#x27;on line&#x27;.$errline.&#x27;&lt;br&gt;&#x27;;</span><br><span class="line">            echo &#x27;error info :&#x27;.$errstr;</span><br><span class="line">            break;</span><br><span class="line">        case E_WARNING:</span><br><span class="line">        case E_USER_WARNING:</span><br><span class="line">            echo &#x27;warning error in file&#x27;.$errfile.&#x27;on line&#x27;.$errline.&#x27;&lt;br&gt;&#x27;;</span><br><span class="line">            echo &#x27;error info :&#x27;.$errstr;</span><br><span class="line">            break;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo $a;</span><br><span class="line"></span><br><span class="line">//修改报错机制</span><br><span class="line">set_error_handler(&#x27;my_error&#x27;);</span><br><span class="line"></span><br><span class="line">echo $a;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="字符串定义语法"><a href="#字符串定义语法" class="headerlink" title="字符串定义语法"></a>字符串定义语法</h2><ol>
<li>单引号：使用单引号包裹</li>
<li>双引号：使用双引号baoguo</li>
<li>nowdoc字符串：</li>
<li>heredoc字符串：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = &#x27;abcd&#x27;;</span><br><span class="line">$b = &#x27;asdf&#x27;;  //适合定义一行数据</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//nowdoc结构</span><br><span class="line">$c = &lt;&lt;&lt;&#x27;EOD&#x27;</span><br><span class="line">	hello wi shi da sha bi</span><br><span class="line">4545</span><br><span class="line">EOD;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//heredoc结构</span><br><span class="line">$d = &lt;&lt;&lt;EOD</span><br><span class="line">	qwerty</span><br><span class="line">12312</span><br><span class="line">EOD;</span><br><span class="line"></span><br><span class="line">var_dump($c,$d);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//这种结构化定义字符串对应的边界符有条件</span><br><span class="line">1、上边界符后面不能跟任何东西，注释与空格也不行</span><br><span class="line">2、下边界符必须顶格，最左边，也只能跟；号，不能跟任何内容</span><br><span class="line">3、结构化定义字符串的内部（边界符之间）的所有内容都是字符串本身</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="字符传转义"><a href="#字符传转义" class="headerlink" title="字符传转义"></a>字符传转义</h2><p>转义的含义：在计算机通用协议中，有一些特定的方式定义的字母，系统会特定处理：通常这种方式都是使用反斜杠+字母的特性</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">例如</span><br><span class="line">\n\r   回车换行的意思</span><br></pre></td></tr></table></figure>

<p>在php中系统常用的转义符号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">\&#x27;：在单引号中显示单引号</span><br><span class="line">\&quot;：在双引号中显示双引号</span><br><span class="line">\r：回车符，回到本行行首</span><br><span class="line">\n：移动到下一行</span><br><span class="line">\t：一个tab键</span><br><span class="line">\$：在PHP中使用$符号作为变量符号，因此需要特定识别</span><br></pre></td></tr></table></figure>

<p>双引号内能识别变量，前提是能够区分变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&#x27;Content-type:text/html;charset=utf-8&#x27;);</span><br><span class="line">$a = &#x27;hello&#x27;;</span><br><span class="line"></span><br><span class="line">$b= &quot;123 $a 456&quot;;</span><br><span class="line"></span><br><span class="line">$c = &quot;123$a456&quot;; //这样写系统识别不了准确的变量，会报错</span><br><span class="line"></span><br><span class="line">$d = &quot;123&#123;$a&#125;456&quot;;//使用变量表示符&#123;&#125;</span><br><span class="line">echo $b,&#x27;&lt;br/&gt;&#x27;,$c,&#x27;&lt;br&gt;&#x27;,$d,&#x27;&lt;br&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">//结构化定义字符串的内部（边界符之间）的所有内容都是字符串本身</span><br><span class="line">$t = &lt;&lt;&lt;EOD</span><br><span class="line">    //这个注释会显示出来</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">    alert(&#x27;$a&#x27;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br><span class="line">EOD;</span><br><span class="line"></span><br><span class="line">echo $t;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="字符串长度问题"><a href="#字符串长度问题" class="headerlink" title="字符串长度问题"></a>字符串长度问题</h2><p>strlen()函数，得到字符串的长度，针对标准交换码ASCII，以字节为单位</p>
<p>mbstring扩展会针对不同的字符集，在php.ini中开启</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&#x27;Content-type:text/html;charset=utf-8&#x27;);</span><br><span class="line">$a = &#x27;132465&#x27;;</span><br><span class="line">$b = &#x27;你好我叫崔健123&#x27;;</span><br><span class="line"></span><br><span class="line">echo strlen($a),&#x27;&lt;br&gt;&#x27;,strlen($b),&#x27;&lt;br&gt;&#x27;,&#x27;&lt;hr&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">echo mb_strlen($a),&#x27;&lt;br&gt;&#x27;,mb_strlen($b),&#x27;&lt;br&gt;&#x27;,mb_strlen($b,&#x27;utf-8&#x27;);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="字符串相关函数"><a href="#字符串相关函数" class="headerlink" title="字符串相关函数"></a>字符串相关函数</h2><p>1、转换函数：implode(),explode(),str_split()</p>
<p>​	Implode(分割字符，数组)：将数组中的元素按照某个规则连接成一个字符串</p>
<p>​	Explode(分割字符，目标字符串)：将字符串按照某个格式进行分割，变成数组</p>
<p>​	Str_split(字符串，字符长度)：按照指定长度拆分字符得到数组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = &#x27;cuijiansfsf&#x27;;</span><br><span class="line">$b = (str_split($a,3));</span><br><span class="line"></span><br><span class="line">var_dump($b);</span><br><span class="line">echo  &#x27;&lt;hr&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">var_dump(implode(&#x27;--&#x27;,$b));</span><br><span class="line">echo &#x27;&lt;hr&gt;&#x27;;</span><br><span class="line">$c = implode(&#x27;--&#x27;,$b);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var_dump(explode(&#x27;--&#x27;,$c));</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>2、截取函数：trim(),ltrim(),rtrim()</p>
<p>​	Trim(字符串[指定字符])：本身默认是用来去除两边的空格（中间不行），但也可以指定要去除的内容，是按照指定的内容循环去除两边有的内容：碰到一个不是目标字符的为止</p>
<p>​	Ltrim()：去除左边的</p>
<p>​	Ltrim()：去除右边的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">去除默认空格</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = &#x27;     123       &#x27;;</span><br><span class="line">var_dump($a);</span><br><span class="line">echo &#x27;&lt;br&gt;&#x27;;</span><br><span class="line">var_dump(trim($a));</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">去除a</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = &#x27;     123       aaaaa&#x27;;</span><br><span class="line">var_dump($a);</span><br><span class="line">echo &#x27;&lt;br&gt;&#x27;;</span><br><span class="line">var_dump(trim($a,&#x27;a&#x27;));</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>3、截取函数：substr(),strstr()</p>
<p>​	Substr(字符串，起始位置从零开始[长度])：指定位置开始截取字符串，可以截取指定长度（不指定，截取到最后）</p>
<p>​	Strstr(字符串，匹配字符)：从指定位置开始，截取到最后 —&gt;可以去除文件后缀名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">substr()函数</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = &#x27;abcdefkhijk&#x27;;</span><br><span class="line"></span><br><span class="line">var_dump(substr($a,1));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//strstr函数</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = &#x27;cuijian.jpg.php3.php4&#x27;;</span><br><span class="line"></span><br><span class="line">var_dump(strstr($a,&#x27;php&#x27;,true)); //默认为false，如果为false，返回该字符串截取的部分；为true则返回原字符串剩余的部分；如果查询不到返回 FALSE。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>4、大小转换函数：strtolower(),strtoupper(),ucfirst()</p>
<p>​	Strtolower()：全部小写</p>
<p>​	Strtoupper()：全部大写</p>
<p>​	Ucfirst()：首字母大写</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = &#x27;cuijian.jpg.php3.php4&#x27;;</span><br><span class="line"></span><br><span class="line">var_dump(strtoupper($a));</span><br><span class="line">echo &#x27;&lt;br&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">var_dump(ucfirst($a));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>5、查找函数：strpos(),strrpos()，从零开始算</p>
<p>​	Strpos(字符串，要查询的字符串)：判断字符在目标字符串中首次出现的位置</p>
<p>​	Strrpos(字符串，要查询的字符串)：判断字符在目标字符串中最后一次出现的位置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = &#x27;cuijian.jpg.php3.php4&#x27;;</span><br><span class="line"></span><br><span class="line">var_dump(strpos($a,&#x27;jpg&#x27;));</span><br><span class="line">echo &#x27;&lt;br&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">var_dump(strrpos($a,&#x27;php3&#x27;));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>6、替换函数：str_replacea()</p>
<p>​	Str_replace(匹配目标，替换内容，字符串本身)：将目标字符串部分内容进行替换</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = &#x27;cuijian.jpg.php3.php4&#x27;;</span><br><span class="line"></span><br><span class="line">var_dump(str_replace(&#x27;.php3&#x27;,&#x27; &#x27;,$a));</span><br><span class="line">echo &#x27;&lt;br&gt;&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>7、格式化函数：printf(),sprintf() —&gt;许多语言都有格式话输出，大同小异，基本都差不多</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$age = 20;</span><br><span class="line">$name = &#x27;崔健&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">printf(&#x27;大家好我叫%s,我进年%d岁&#x27;,$name,$age); //%s代表字符串 ，%d代表十进制</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>8、其他：srt_repeat(),str_shuffle()</p>
<p>​	Str_repeat()：重复某个字符串N次</p>
<p>​	Str_shuffle()：随机打乱字符串 —-&gt;可用作最简单的验证码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = &#x27;cuijian&#x27;;</span><br><span class="line"></span><br><span class="line">echo str_repeat($a,10),&#x27;&lt;br&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">echo str_shuffle($a);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="数组的概念"><a href="#数组的概念" class="headerlink" title="数组的概念"></a>数组的概念</h2><p>array，数据的组合，指将一组数据存储到一个指定的容器中，用变量指向该容器，然后通过变量一次性得到该容器中的所有数据</p>
<h3 id="数组定义语法"><a href="#数组定义语法" class="headerlink" title="数组定义语法"></a>数组定义语法</h3><p>在php中系统提供多种定义数组的方式：</p>
<ol>
<li><p>使用array关键字</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = array(&#x27;beijing&#x27;,10,&#x27;50&#x27;);</span><br><span class="line"></span><br><span class="line">var_dump($a);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>中括号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$b = [&#x27;linyi&#x27;,&#x27;shanghai&#x27;,50];</span><br><span class="line">var_dump($b);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>隐形定义数组，给变量增加一个中括号，系统自动变成数组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">/*</span><br><span class="line">$变量[]=值1；</span><br><span class="line">$变量[]=值2；	</span><br><span class="line">$变量[下标]=值3；   可以手动设置下标，可以是字母或者数字，默认从零开始</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">$c[]=&#x27;shanghai&#x27;;</span><br><span class="line">$c[99]=50;</span><br><span class="line">$c[&#x27;diming&#x27;]=&#x27;lingyi&#x27;;</span><br><span class="line">$c[]=&#x27;lin&#x27;;</span><br><span class="line">var_dump($c);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h3 id="PHP数组特点"><a href="#PHP数组特点" class="headerlink" title="PHP数组特点"></a>PHP数组特点</h3><ol>
<li>可以是整数下表或者字符串<ul>
<li>如果下标都为整数：索引数组</li>
<li>如果下表都为字符串：关联数组</li>
</ul>
</li>
<li>不同下标可以混合存在：混合数组</li>
<li>数组元素顺序以放入顺序为准，跟下标无关</li>
<li>数字下标的自增站特性：从零开始自动增长，如果中间手动出现较大的，那么后面的自增长元素 从最大的值+1开始</li>
<li>特殊值下标的自动转换</li>
<li>PHP中数组元素没有类型限制</li>
<li>PHP中数组元素没有长度限制</li>
<li>PHP中的数组中是很大的数据，所以存储的位置是堆区，为当前数组分配一块连续的内存</li>
</ol>
</li>
</ol>
<h3 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h3><p>数组里面的元素又是数组</p>
<h4 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h4><p>数组中所有的元素都是一顿数组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$info = array(</span><br><span class="line"></span><br><span class="line">	array(&#x27;name&#x27; =&gt; &#x27;cuijian&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    array(&#x27;name&#x27; =&gt; &#x27;cui&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    array(&#x27;name&#x27; =&gt; &#x27;jian&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    [&#x27;123&#x27;,10,&#x27;cuijain&#x27;]</span><br><span class="line">);</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line">print_r($info);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="多维数组-1"><a href="#多维数组-1" class="headerlink" title="多维数组"></a>多维数组</h4><p>在二维数组元素中，可继续是数组，在php中没有维度限制，不建议使用超过三维，会降低访问效率</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$info = array(</span><br><span class="line"></span><br><span class="line">	array(</span><br><span class="line">        [1,2,3],</span><br><span class="line">        [&#x27;cuijian&#x27;,10,21],</span><br><span class="line">        [&#x27;sahgahi&#x27;,&#x27;beijing&#x27;]</span><br><span class="line">    ),</span><br><span class="line">    array(&#x27;name&#x27; =&gt; &#x27;cui&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    array(&#x27;name&#x27; =&gt; &#x27;jian&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    [&#x27;123&#x27;,10,&#x27;cuijain&#x27;]</span><br><span class="line">);</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line">print_r($info);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="异性数组"><a href="#异性数组" class="headerlink" title="异性数组"></a>异性数组</h4><h3 id="数组遍历"><a href="#数组遍历" class="headerlink" title="数组遍历"></a>数组遍历</h3><p>普通数组数据的访问都是通过数组元素的下标来实现访问，如果说数组中所有的数据都需要依次输出，就需要我们使用到一些简单化的规则来实现自动获取下标以及输出数组元素。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$info = array(</span><br><span class="line"></span><br><span class="line">	array(&#x27;name&#x27; =&gt; &#x27;cuijian&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    array(&#x27;name&#x27; =&gt; &#x27;cui&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    array(&#x27;name&#x27; =&gt; &#x27;jian&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    [&#x27;123&#x27;,10,&#x27;cuijain&#x27;]</span><br><span class="line">);</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line">print_r($info[0][&#x27;ahg&#x27;]);  //获取第一个数组里面，ahg下标的数组聂荣</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Foreach遍历"><a href="#Foreach遍历" class="headerlink" title="Foreach遍历"></a>Foreach遍历</h3><p>原理：本质是数组的内部有一颗指针，默认指向数组元素的第一个元素，foreach就是利用指针去获取数据，同时移动指针</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Foreach($array as $k =&gt; $v)&#123;</span><br><span class="line"></span><br><span class="line">	//循环体</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol>
<li>foreach会重置指针，让指针指向第一个元素；</li>
<li>进入foreach循环：通过指针取得当前第一个元素，然后将下标取出放到对应的下标变量$k中（存在），将值取出来放到对应的值变量$v中；（指针下移）</li>
<li>进入到循环内部（循环体），开始执行</li>
<li>重复2和3，直到在2的时候遇到指针取不到的内容（指针指向数组最后）</li>
</ol>
<h4 id="遍历一维数组"><a href="#遍历一维数组" class="headerlink" title="遍历一维数组"></a><strong>遍历一维数组</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">header(&#x27;Content-type:text/html;charset=utf-8&#x27;);</span><br><span class="line">$a = array(</span><br><span class="line"></span><br><span class="line">	&#x27;cuijain&#x27;,</span><br><span class="line">	&#x27;beijing&#x27;,</span><br><span class="line">	&#x27;shanghai&#x27;</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">foreach($a as $v)&#123;    //此处的$v变量随便定义</span><br><span class="line">   </span><br><span class="line"> </span><br><span class="line">	echo $v,&#x27;&lt;br&gt;&#x27;;   //注意运行了三次</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">////////////////////////////////////////////////////////////////////////////////////////////////////////////</span><br><span class="line"></span><br><span class="line">//带着下标输出</span><br><span class="line">&lt;?php</span><br><span class="line">header(&#x27;Content-type:text/html;charset=utf-8&#x27;);</span><br><span class="line">$a = array(</span><br><span class="line"></span><br><span class="line">	&#x27;cuijain&#x27;,</span><br><span class="line">	&#x27;beijing&#x27;,</span><br><span class="line">	&#x27;shanghai&#x27;</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">foreach($a as $k =&gt; $v)&#123;    //$k为下标，$v为值</span><br><span class="line">   </span><br><span class="line"> </span><br><span class="line">	echo &#x27;下标：&#x27;,$k,&#x27;值：&#x27;,$v,&#x27;&lt;br&gt;&#x27;;   //注意运行了三次</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>遍历二维数组</strong></p>
<p>在进行数据存储定义的时候，通常二维数组不会两个维度的key下标都是数字，一般是一维为数字（无意义），二维为字符串（数据库表字段），所以在进行遍历的是时候，通常只需要针对一维数组进行遍历，取得二维数组元素，然后二维数组通过下标访问。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$info = array(</span><br><span class="line"></span><br><span class="line">	array(&#x27;name&#x27; =&gt; &#x27;cuijian&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    array(&#x27;name&#x27; =&gt; &#x27;cui&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    array(&#x27;name&#x27; =&gt; &#x27;jian&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    [&#x27;123&#x27;,10,&#x27;cuijain&#x27;]</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">foreach($info as $k =&gt; $v)&#123;</span><br><span class="line">    echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line">	echo $k,&#x27;&lt;hr&gt;&#x27;;</span><br><span class="line">    print_r($v);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">///////////////////////////////////////////////////////////////////////////////////////////////////////////////</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">$info = array(</span><br><span class="line"></span><br><span class="line">	array(&#x27;name&#x27; =&gt; &#x27;cuijian&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    array(&#x27;name&#x27; =&gt; &#x27;cui&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    array(&#x27;name&#x27; =&gt; &#x27;jian&#x27;,&#x27;ahg&#x27; =&gt; 20),</span><br><span class="line">    [&#x27;123&#x27;,10,&#x27;cuijain&#x27;]</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">foreach($info as $k =&gt; $v)&#123;</span><br><span class="line">    echo $v[&#x27;name&#x27;],&#x27;&lt;br&gt;&#x27;; //通过下标遍历出所有name值</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="For循环"><a href="#For循环" class="headerlink" title="For循环"></a>For循环</h3><p>基于已知边界条件（起始和结束）然后有条件的变化（规律）；</p>
<p>条件：</p>
<ol>
<li>获取数组长度：count(数组)得到数组元素长度</li>
<li>要求数组元素下标是规律的数字</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = array (</span><br><span class="line">    &#x27;a&#x27;,</span><br><span class="line">    &#x27;b&#x27;,</span><br><span class="line">    &#x27;c&#x27;,</span><br><span class="line">    &#x27;d&#x27;</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">for($i=0;$i&lt;count($a);$i++)&#123;</span><br><span class="line"></span><br><span class="line">    echo $a[$i],&#x27;&lt;br&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//优化</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = array (</span><br><span class="line">    &#x27;a&#x27;,</span><br><span class="line">    &#x27;b&#x27;,</span><br><span class="line">    &#x27;c&#x27;,</span><br><span class="line">    &#x27;d&#x27;</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">for($i=0,$len=count($a);$i &lt; %len;$i++)&#123;</span><br><span class="line"></span><br><span class="line">    echo $a[$i],&#x27;&lt;br&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数组相关的函数"><a href="#数组相关的函数" class="headerlink" title="数组相关的函数"></a>数组相关的函数</h3><h4 id="排序函数：都对原有数组进行了改变"><a href="#排序函数：都对原有数组进行了改变" class="headerlink" title="排序函数：都对原有数组进行了改变"></a>排序函数：都对原有数组进行了改变</h4><p>对数组元素进行排序，都是按照ASCII吗进行比较</p>
<p>sort():顺序排序，下标也重新排序</p>
<p>rsort()：逆序排序,</p>
<p>asort()：顺序排序，下标保留</p>
<p>arsort():逆序排序，下标保留</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = array(4,3,9,2,6,7);</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line">sort($a);</span><br><span class="line"></span><br><span class="line">print_r($a);</span><br><span class="line"></span><br><span class="line">rsort($a);</span><br><span class="line"></span><br><span class="line">print_r($a);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">asort($a);</span><br><span class="line"></span><br><span class="line">print_r($a);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ksort()：顺序排序，按照下标（键名）</p>
<p>krsort()：逆序排序，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = array(4,3,9,2,6,7);</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">ksort($a);</span><br><span class="line"></span><br><span class="line">print_r($a);</span><br><span class="line"></span><br><span class="line">krsort($a);</span><br><span class="line">print_r($a);</span><br></pre></td></tr></table></figure>

<p>shuffle()：随机打乱数组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = array(4,3,9,2,6,7);</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">shuffle($a);</span><br><span class="line"></span><br><span class="line">print_r($a);</span><br></pre></td></tr></table></figure>

<h3 id="指针函数"><a href="#指针函数" class="headerlink" title="指针函数"></a>指针函数</h3><p><strong>改变的是指针</strong></p>
<p>reset():重置指针，将数组指针回到首位</p>
<p>end():重置指针，将数组指针指到最后一个元素</p>
<p>next():指针下移，取得下一个元素的值</p>
<p>prev():指针上移，取得上一个元素的值</p>
<p>current():取得当前指针对应的元素值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = array(1,2,3,4,5);</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">echo next($a),next($a),&#x27;&lt;br&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">echo current($a),key($a);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>key():获取当前指针对应的下标值</p>
<p><strong>注意</strong>：</p>
<p>next和prev会移动指针。有可能导致指针移动到最前或者最后（离开数组），导致数组不能使用，通过next和prev不能回到正确的指针位置。只有通过end和reset进行指针重置</p>
<h3 id="其他函数"><a href="#其他函数" class="headerlink" title="其他函数"></a>其他函数</h3><p>count()：统计数组中元素的数量</p>
<p>array_push()：从数组中加入一个元素（数组后面）</p>
<p>array_pop()：从数组中取出一个元素(数组后面)</p>
<p>array_shift()：从数组中取出一个元素（数组前面）</p>
<p>array_unshift()：从数组中加入一个元素(数组前面)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = array();</span><br><span class="line"></span><br><span class="line">//php模拟数据结构</span><br><span class="line"></span><br><span class="line">//栈，压栈，先进后出</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line">//压栈</span><br><span class="line">array_push($a,2);</span><br><span class="line">array_push($a,4);</span><br><span class="line">array_push($a,6);</span><br><span class="line"></span><br><span class="line">print_r($a);</span><br><span class="line"></span><br><span class="line">//出栈</span><br><span class="line"></span><br><span class="line">echo array_pop($a),array_pop($a),array_pop($a);</span><br><span class="line"></span><br><span class="line">///////////////////////////////////////////////////////////////////////////////////////////////////////////////////</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = array();</span><br><span class="line"></span><br><span class="line">//php模拟数据结构</span><br><span class="line"></span><br><span class="line">//队列，先进先出</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line">//后面进</span><br><span class="line">array_push($a,2);</span><br><span class="line">array_push($a,4);</span><br><span class="line">array_push($a,6);</span><br><span class="line"></span><br><span class="line">print_r($a);</span><br><span class="line"></span><br><span class="line">//前面出</span><br><span class="line"></span><br><span class="line">echo array_shift($a),array_shift($a),array_shift($a);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>in_array()：判断一个元素是否在数组中存在</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a = array(2,5,6,8,4,3);</span><br><span class="line"></span><br><span class="line">var_dump(in_array(6,$a));  //返回的是布尔值</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>array_keys()：获取一个数组的所有下标，返回一个索引数组</p>
<p>array_values()：获取一个数组的所有值，返回一个索引数组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&#x27;Content-type:text/html;charset=utf-8&#x27;);</span><br><span class="line"></span><br><span class="line">$a = array(</span><br><span class="line">    &#x27;name&#x27;=&gt;&#x27;ci&#x27;,</span><br><span class="line">    &#x27;age&#x27;=&gt;&#x27;20&#x27;,</span><br><span class="line">    &#x27;sex&#x27;=&gt;&#x27;nan&#x27;,</span><br><span class="line">    &#x27;banji&#x27;=&gt;&#x27;20-1&#x27;</span><br><span class="line">);</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">echo &#x27;键名:&#x27;;</span><br><span class="line">print_r(array_keys($a));</span><br><span class="line"></span><br><span class="line">echo &#x27;键值:&#x27;;</span><br><span class="line">print_r(array_values($a));</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="编程思想"><a href="#编程思想" class="headerlink" title="编程思想"></a>编程思想</h3><p>编程思想，如何利用数学模式，来解决对应的需求 问题；然后利用代码实现对应的数据模型（逻辑）</p>
<h3 id="递推算法"><a href="#递推算法" class="headerlink" title="递推算法"></a>递推算法</h3><p>递推算法是一种简单的算法，即通过已知条件，利用特定关系得出中间结论，直至得到结果的算法。递推算法分为顺推和逆推。</p>
<p>顺推：通过简单的条件（已知），然后逐步推演结果。</p>
<p>逆推：通过结果找到规律，然后推到已知条件。</p>
<p>斐波那契数列：1，1，2，3，5，8……  指定位置n的值是多少</p>
<p><strong>递推算法</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$a[1]=1;</span><br><span class="line">$a[2]=1;</span><br><span class="line">$des = 15;</span><br><span class="line">for($i=3;$i&lt;=$des;$i++)&#123;</span><br><span class="line"></span><br><span class="line">    $a[$i] = $a[$i-1]+$a[$i-2];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line">print_r($a);</span><br><span class="line"></span><br><span class="line">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line"></span><br><span class="line">//这时候就可以写成一个函数，方便使用</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">function display($des)&#123;</span><br><span class="line"></span><br><span class="line">    if($des == 1 || $des == 2)&#123;</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        $a[1]=1;</span><br><span class="line">        $a[2]=1;</span><br><span class="line"></span><br><span class="line">        for($i=3;$i&lt;=$des;$i++)&#123;</span><br><span class="line">  </span><br><span class="line">        $a[$i] = $a[$i-1]+$a[$i-2];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     return $a[$des];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo display(1);</span><br></pre></td></tr></table></figure>

<h3 id="递归算法"><a href="#递归算法" class="headerlink" title="递归算法"></a><strong>递归算法</strong></h3><p>1、简化问题：找到最优子问题（不能再小）；</p>
<p>2、函数自己调用自己</p>
<p>斐波那契数列：1，1，2，3，5，8……</p>
<p>需求：求指定位置的数列</p>
<p>规律：第一个和第二个为1，从第三个开始为前两个之和</p>
<p>F(N) &#x3D; F(N-1) + F(N-2)</p>
<p>F(N-1) &#x3D; F(N-2) + F(N-3)</p>
<p>……</p>
<p>F(2) &#x3D;  F(1) &#x3D; 1</p>
<p>递归的本质是函数调用函数:一个函数需要开辟一块内存空间，递归会出现同时多个调用N多个函数（自己）：递归的本质是利用空间换取时间</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">function display($n)&#123;</span><br><span class="line">    if($n == 1 || $n ==2)&#123;</span><br><span class="line">        return 1;        </span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        static $b = 1;</span><br><span class="line">        echo $b++,&#x27;&lt;br&gt;&#x27;;  // 静态变量</span><br><span class="line">        return display($n-1) + display($n-2);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo display(6);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="数组排序算法"><a href="#数组排序算法" class="headerlink" title="数组排序算法"></a>数组排序算法</h2><h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><p>重复的走访要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。走访数列的工作是重复进行的，进行到知道没有在需要交换，也就是说该数列已经排序完成。</p>
<p>冒泡排序思路：</p>
<ol>
<li>比较相邻元素。如果第一个比第二个大，就交换他们两个。</li>
<li>对每一个相邻元素作同样的工作，从开始第一个到结尾的最后一对。在这一点，最后的元素应该是最大的数。</li>
<li>针对所有的元素重复以上的步骤，除了最后一个</li>
<li>持续每次对越来越少的元素重复上面的步骤，直到没有任何一堆数字需要比较</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$arr = array(1,5,6,3,7,2,4);</span><br><span class="line"></span><br><span class="line">for($j = 0,$len = count($arr);$j &lt; $len -1;$j++)&#123;</span><br><span class="line">    for($i = 0,$a = count($arr); $i &lt; $a -1;$i++)&#123;</span><br><span class="line">        if($arr[$i] &gt; $arr[$i+1])&#123;</span><br><span class="line">         $tmp = $arr[$i];</span><br><span class="line">         $arr[$i] = $arr[$i+1];</span><br><span class="line">            $arr[$i+1] = $tmp;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line">print_r($arr);</span><br></pre></td></tr></table></figure>

<h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><p>选择排序是一种简单直观的排序方法。它的工作原理是，每一次从待排序的数据元素中选出最小的（或最大的一个元素），存放在序列的起始位置，直到全部待排序的数据元素排完。选择排序是最不稳定的排序方法（比如序列[5,5,3]第一次就将第一个[5]与[3]交换，导致第一个5挪动到第二个5后面）。</p>
<p>思路：</p>
<ol>
<li>假设第一个元素为最小元素，记下住标</li>
<li>寻找右侧剩余的元素，如果有更小的，重新记下最新的下标</li>
<li>如果有新的最小的，交换两个元素</li>
<li>往右重复以上的步骤，直到元素本身是最后一个</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$arr =array(2,5,6,3,1,7,9);</span><br><span class="line"></span><br><span class="line">for($i=0,$len=count($arr);$i&lt;$len;$i++)&#123;</span><br><span class="line">    $min = $i;</span><br><span class="line">    for($j = $i+1;$j&lt;$len;$j++)&#123;</span><br><span class="line">        if($arr[$j]&lt;$arr[$min])&#123;</span><br><span class="line">            $min = $j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if($min != $i)&#123;  // (!$min == $i)和这种写法执行结果不一样</span><br><span class="line">        $tmp = $arr[$i];</span><br><span class="line">        $arr[$i] = $arr[$min];</span><br><span class="line">        $arr[$min] = $tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">print_r($arr);</span><br></pre></td></tr></table></figure>

<h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><ol>
<li>认定第一个元素已经排好序</li>
<li>取出第二个元素，作为待插入数据</li>
<li>与已经排序好的数组的最右侧元素开始进行比较</li>
<li>如果后面的小于前面的：说明前面已经排序好的那个数组元素不再对的位置（向后移一个），然后让新的元素填进去（继续向前比：高级）</li>
<li>重复前面的步骤：直到当前元素插入到对的位置</li>
<li>重复以上步骤，直到所有数组元素都插入到对的位置。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$arr = array(5,3,1,9,6,4);</span><br><span class="line"></span><br><span class="line">for($i = 1,$len = count($arr);$i &lt; $len;$i++)&#123;</span><br><span class="line"></span><br><span class="line">    $tmp = $arr[$i];</span><br><span class="line">    for($j = $i - 1;$j &gt;= 0;$j--)&#123;</span><br><span class="line">        if($arr[$j] &gt; $tmp)&#123;</span><br><span class="line">            $arr[$j+1] = $arr[$j];</span><br><span class="line">            $arr[$j] = $tmp;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            break; //说明当前待插入元素，比前面的元素要大，说明位置正确，优化运行次数</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line">print_r($arr);</span><br></pre></td></tr></table></figure>

<p><strong>优化代码</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$arr = array(5,3,1,9,6,8,4);</span><br><span class="line"></span><br><span class="line">for($i = 1,$len = count($arr);$i &lt; $len;$i++)&#123;</span><br><span class="line"></span><br><span class="line">    $tmp = $arr[$i];</span><br><span class="line">    $flag = True;</span><br><span class="line">    for($j = $i - 1;$j &gt;= 0;$j--)&#123;</span><br><span class="line">        if($arr[$j] &gt; $tmp)&#123;</span><br><span class="line">            $arr[$j+1] = $arr[$j];</span><br><span class="line">            $flag = False;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            break; //说明当前待插入元素，比前面的元素要大，说明位置正确，优化运行次数</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    if($flag != True)&#123;</span><br><span class="line">        $arr[$j+1] = $tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">echo &#x27;&lt;pre&gt;&#x27;;</span><br><span class="line">print_r($arr);</span><br></pre></td></tr></table></figure>

<h3 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h3><h3 id="查找算法"><a href="#查找算法" class="headerlink" title="查找算法"></a>查找算法</h3><h4 id="顺序查找"><a href="#顺序查找" class="headerlink" title="顺序查找"></a>顺序查找</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$arr = array(1,2,3,6,8,9);</span><br><span class="line"></span><br><span class="line">function display($arr,$num)&#123;</span><br><span class="line"></span><br><span class="line">    for($i=0,$len = count($arr);$i &lt; $len;$i++)&#123;</span><br><span class="line">        if($arr[$i] == $num)&#123;</span><br><span class="line">            return $i;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return false;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var_dump(display($arr,9));</span><br></pre></td></tr></table></figure>

<h3 id="二分查找算法"><a href="#二分查找算法" class="headerlink" title="二分查找算法"></a>二分查找算法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$arr = array(1,2,3,5,8,9);</span><br><span class="line"></span><br><span class="line">$right = count($arr);</span><br><span class="line">$left = 0;</span><br><span class="line">$res = 5;</span><br><span class="line"></span><br><span class="line">while($left &lt;= $right)&#123;</span><br><span class="line">    $middle = floor(($right + $left) / 2);</span><br><span class="line">    if($arr[$middle] == $res)&#123;</span><br><span class="line">        echo $middle;</span><br><span class="line">        break;</span><br><span class="line">                                                                                                                                                                                               </span><br><span class="line">    &#125;</span><br><span class="line">    if($arr[$middle] &lt; $res)&#123;</span><br><span class="line">        $left = $left +1;</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        $right = $right -1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>变为函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">$arr = array(1,2,3,5,8,9);</span><br><span class="line"></span><br><span class="line">function display($arr,$res)&#123;</span><br><span class="line">$right = count($arr);</span><br><span class="line">$left = 0;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">while($left &lt;= $right)&#123;</span><br><span class="line">    $middle = floor(($right + $left) / 2);  //floor取整数部分，仅限于正数</span><br><span class="line">    if($arr[$middle] == $res)&#123;</span><br><span class="line">        return $middle;                                                                                                                                                                                 </span><br><span class="line">    &#125;</span><br><span class="line">    if($arr[$middle] &lt; $res)&#123;</span><br><span class="line">        $left = $left +1;</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        $right = $right -1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var_dump(display($arr,9));</span><br></pre></td></tr></table></figure>

<h1 id="数据库Mysql"><a href="#数据库Mysql" class="headerlink" title="数据库Mysql"></a>数据库Mysql</h1><p>存储介质分为两种：磁盘和内存</p>
<p>关系型数据库：存储在磁盘中</p>
<p>非关系型数据库：存储在内存中</p>
<h2 id="典型的关系型数据库"><a href="#典型的关系型数据库" class="headerlink" title="典型的关系型数据库"></a>典型的关系型数据库</h2><p>小型关系型数据库：Access，SQLite</p>
<p>中兴关系型数据库：SQL Server，Mysql</p>
<p>大型关系型数据库：Oracle，DB2</p>
<h2 id="数据库基本操作"><a href="#数据库基本操作" class="headerlink" title="数据库基本操作"></a>数据库基本操作</h2><h4 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h4><p>语法</p>
<p> create database 数据库名 [库选项];</p>
<p>库选项：数据库的相关属性</p>
<p>字符集：charset,代表当前数据库下的所有表存储的数据默认指定的字符集（如果不直指定，采用DBMS默认的）</p>
<p>校对集：collate</p>
<h4 id="查询数据库"><a href="#查询数据库" class="headerlink" title="查询数据库"></a>查询数据库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">语法：show database like &#x27;匹配模式&#x27;;</span><br><span class="line">_：匹配当前位置单个字符</span><br><span class="line">%：匹配指定位置多个字符</span><br><span class="line"></span><br><span class="line">获取以my开头的全部数据库 ：&#x27;my%&#x27;;</span><br><span class="line">获取以m开头，后面第一个字母不确定，最后为database的数据库；&#x27;m_database&#x27;;</span><br><span class="line">获取以database结尾的所有数据库:&#x27;%database&#x27;;</span><br></pre></td></tr></table></figure>

<h4 id="显示数据库创建语句"><a href="#显示数据库创建语句" class="headerlink" title="显示数据库创建语句"></a>显示数据库创建语句</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create database 数据库名字; </span><br></pre></td></tr></table></figure>

<h4 id="选择数据库"><a href="#选择数据库" class="headerlink" title="选择数据库"></a>选择数据库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use 数据库名称;</span><br></pre></td></tr></table></figure>

<h4 id="修改数据库"><a href="#修改数据库" class="headerlink" title="修改数据库"></a>修改数据库</h4><p>修改数据库字符集（库选项）：字符集和校对集</p>
<p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter database 数据库名字  charset = 字符集;</span><br></pre></td></tr></table></figure>

<h4 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop database 数据库名字;</span><br></pre></td></tr></table></figure>

<h2 id="数据表操作"><a href="#数据表操作" class="headerlink" title="数据表操作"></a>数据表操作</h2><p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create table 表名(字段名 字段类型 [字段属性],字段名 字段类型 [字段属性],......)[表选项];</span><br><span class="line">表选项：</span><br><span class="line">1、charset  字符集</span><br><span class="line">2、collate  校对集</span><br><span class="line">3、存储引擎</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、</span><br><span class="line">use test;</span><br><span class="line">create table class ......</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2、</span><br><span class="line">create table test.class ......</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table class(</span><br><span class="line">    -&gt; id varchar(10))</span><br><span class="line">    -&gt; charset gbk;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="复制表结构"><a href="#复制表结构" class="headerlink" title="复制表结构"></a>复制表结构</h3><p>语法</p>
<p>create table 新表名 like 表明;  – 此处的表明可以是任何数据库下的表</p>
<h3 id="查看表结构"><a href="#查看表结构" class="headerlink" title="查看表结构"></a>查看表结构</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">desc 表名;</span><br><span class="line"></span><br><span class="line">show columns from 表名;   表明可用反引号 ``</span><br></pre></td></tr></table></figure>



<h3 id="显示表的创建语句"><a href="#显示表的创建语句" class="headerlink" title="显示表的创建语句"></a>显示表的创建语句</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create table 表名;</span><br></pre></td></tr></table></figure>

<h3 id="mysql语句结束符"><a href="#mysql语句结束符" class="headerlink" title="mysql语句结束符"></a>mysql语句结束符</h3><p>;与\g结束效果一样</p>
<p>\G :   字段名在左面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show tables\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">Tables_in_security: emails</span><br><span class="line">*************************** 2. row ***************************</span><br><span class="line">Tables_in_security: referers</span><br><span class="line">*************************** 3. row ***************************</span><br><span class="line">Tables_in_security: uagents</span><br><span class="line">*************************** 4. row ***************************</span><br><span class="line">Tables_in_security: users</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h3><p>修改表名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename table 旧表明 to 新表名;</span><br></pre></td></tr></table></figure>

<p>修改表选项</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 表名 表选项 = 新值;</span><br></pre></td></tr></table></figure>

<p>新增字段</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 表名 add [column] 新字段名 列类型 [列属性] [位置:first、after 字段名 ];</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter table class add name varchar(20); -- 默认添加到最后面</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; desc class;</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| id    | varchar(10) | YES  |     | NULL    |       |</span><br><span class="line">| name  | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt; alter table class add age int(10) after id; --指定添加位置</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; desc class;</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| id    | varchar(10) | YES  |     | NULL    |       |</span><br><span class="line">| age   | int(10)     | YES  |     | NULL    |       |</span><br><span class="line">| name  | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">3 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<p>修改字段名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 表名 change 旧字段名 新字段名 字段类型 [列属性] [新位置]; -- 必须写，字段类型</span><br></pre></td></tr></table></figure>

<p>修改字段类型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 表名 modify 字段名 新类型 [新属性] [新位置];</span><br></pre></td></tr></table></figure>

<p>删除表字段</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 表名 drop 字段名;</span><br></pre></td></tr></table></figure>

<p>删除表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop table 表名1,[表名2,......]  -- 可以同时删除多个表</span><br></pre></td></tr></table></figure>

<h3 id="数据基础操作"><a href="#数据基础操作" class="headerlink" title="数据基础操作"></a>数据基础操作</h3><p>向表中插入字段</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into 表名 [字段名] values(字段值);</span><br></pre></td></tr></table></figure>

<h3 id="查询语句"><a href="#查询语句" class="headerlink" title="查询语句"></a>查询语句</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 字段列表/* from 表名 [where 字段名 = 值];</span><br></pre></td></tr></table></figure>

<h3 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from 表名 [where 条件]   # 如果没有where条件，系统会默认删除表中所有的数据</span><br></pre></td></tr></table></figure>

<h3 id="更新数据"><a href="#更新数据" class="headerlink" title="更新数据"></a>更新数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update 表名 set 字段名 = 新值 [where 条件];</span><br></pre></td></tr></table></figure>

<h2 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h2><p>常见字符集</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ASCII、GB2312、BIG5、GB18030、Unico</span><br></pre></td></tr></table></figure>

<h3 id="设置客户端字符集"><a href="#设置客户端字符集" class="headerlink" title="设置客户端字符集"></a>设置客户端字符集</h3><p>如果直接通过cmd下的mysql.exe进行中文数据插入，那么很可能出错</p>
<p>出错原因：</p>
<ol>
<li>用户是通过mysql.exe来操作mysqld.exe</li>
<li>真正的SQL执行是mysqld.exe</li>
<li>mysql.exe将数据传入mysqld.exe的时候，没有告知其对应的符号规则（字符集），而mysqld.exe也没有能力自己判断，就会使用自己默认的字符集</li>
</ol>
<p>解决方案：mysql.exe客户端在进行数据操作之前将自己使用的字符集告诉mysqld.exe</p>
<p><strong>快捷方式：set names 字符集</strong></p>
<h3 id="查看系统保存的使用的字符集"><a href="#查看系统保存的使用的字符集" class="headerlink" title="查看系统保存的使用的字符集"></a>查看系统保存的使用的字符集</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">show variables like &#x27;character_set_%&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt; show variables like &#x27;character_set_%&#x27;;</span><br><span class="line">+--------------------------+---------------------------------------------------------------------+</span><br><span class="line">| Variable_name            | Value                                                               |</span><br><span class="line">+--------------------------+---------------------------------------------------------------------+</span><br><span class="line">| character_set_client     | utf8                                                                |</span><br><span class="line">| character_set_connection | utf8                                                                |</span><br><span class="line">| character_set_database   | utf8                                                                |</span><br><span class="line">| character_set_filesystem | binary                                                              |</span><br><span class="line">| character_set_results    | utf8                                                                |</span><br><span class="line">| character_set_server     | utf8                                                                |</span><br><span class="line">| character_set_system     | utf8                                                                |</span><br><span class="line">| character_sets_dir       | D:\xuexi\xiaopi\phpstudy_pro\Extensions\MySQL5.7.26\share\charsets\ |</span><br><span class="line">+--------------------------+---------------------------------------------------------------------+</span><br><span class="line">8 rows in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<p><strong>修改系统变量</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set 变量名 = 值;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set names = gbk;</span><br><span class="line">等价于</span><br><span class="line">set character_set_client = gbk; # 客户端传入数据给服务端</span><br><span class="line">set character_set_connection = gbk;</span><br><span class="line">set character_set_results = gbk; # 服务端返回数据给客户端</span><br></pre></td></tr></table></figure>

<h3 id="列类型"><a href="#列类型" class="headerlink" title="列类型"></a>列类型</h3><h4 id="整数类型-1"><a href="#整数类型-1" class="headerlink" title="整数类型"></a>整数类型</h4><p>Tinyint</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql 默认的为整形增加负数；</span><br><span class="line">实际tinyint表示空间为</span><br><span class="line">-128，127</span><br></pre></td></tr></table></figure>

<p>迷你整形，，系统采用一个字节来保存的整形：一个字节 &#x3D; 8 位，最大能表示的数值是0-255</p>
<p>Smallint</p>
<p>小整形，系统采用两个字节来保存整形：能表示0-65535之间</p>
<p>Mediumint</p>
<p>中整形，采用三个字节来保存数据</p>
<p>Int</p>
<p>标准整形，采用四个字节来保存数据</p>
<p>Bigint</p>
<p>大整形，采用八个字节来保存数据</p>
<h4 id="无符号设定"><a href="#无符号设定" class="headerlink" title="无符号设定"></a>无符号设定</h4><p>​	表示存储的字段在当前字段中，没有负数，只有正数，区间为0–255</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在设置字段属性时，后面加上 unsigned</span><br><span class="line"></span><br><span class="line">int_1 tinyint(3) unsigned</span><br></pre></td></tr></table></figure>

<h3 id="显示长度"><a href="#显示长度" class="headerlink" title="显示长度"></a>显示长度</h3><p>指数据（整型）在数据显示的是时候，到底可以显示多长位</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc int_table;</span><br><span class="line">+-------+---------------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type                | Null | Key | Default | Extra |</span><br><span class="line">+-------+---------------------+------+-----+---------+-------+</span><br><span class="line">| int_5 | tinyint(4)          | YES  |     | NULL    |       |</span><br><span class="line">| int_1 | tinyint(3) unsigned | YES  |     | NULL    |       |</span><br><span class="line">| int_2 | smallint(6)         | YES  |     | NULL    |       |</span><br><span class="line">| int_3 | mediumint(9)        | YES  |     | NULL    |       |</span><br><span class="line">| int_4 | int(11)             | YES  |     | NULL    |       |</span><br><span class="line">+-------+---------------------+------+-----+---------+-------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">tinyint(3)  表示最长可以显示3位，unsigned说明只能是正数，0-255永远不会超过三个长度</span><br><span class="line">tinyint(4)	表示最长可以显示4位，-128~127</span><br><span class="line"></span><br><span class="line">显示长度只是代表了数据是否可以达到指定的长度，但是不会自动满足到指定长度：如果想要数据显示的时候，保持显示长度，那么还需要给字段增加一个zerofill属性才可以</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="小数类型"><a href="#小数类型" class="headerlink" title="小数类型"></a>小数类型</h2><p>在Mysql中小数分为两类</p>
<p>浮点型和定点型</p>
<h3 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h3><p>浮点型又称为精度类型：是一种有可能丢失精度的数据类型，数据可能不那么准确（尤其是在超出范围的时候）</p>
<p>浮点型之所以能够存储较大的数据（不精确），原因就是利用存储数据的位，部分来存储指数</p>
<p>如果数据精度丢失，那么浮点型是按照四舍五入的方式计算的</p>
<p>浮点数可用科学技术法存储数据</p>
<h4 id="Float"><a href="#Float" class="headerlink" title="Float"></a>Float</h4><p>Float又称之为单精度类型：系统提供四个字节来存储数据，但是能表示的数据范围比整形大得多，大概是10^38;只能保证大概7个左右的精度（如果数据在7位数内，那么基本是准确的，但是如果超过7位数，那么就是不准确的）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">语法</span><br><span class="line">Float:表示不指定小数位的浮点数</span><br><span class="line">Float(M,D):表示一共存储M个有效数字，其中小数部分占D位</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="Double"><a href="#Double" class="headerlink" title="Double"></a>Double</h4><p>Double又称之为双精度：系统采用八个字节来存储数据，表示更大的范围，10^308次方，但是精度也只有15位左右</p>
<h3 id="定点数"><a href="#定点数" class="headerlink" title="定点数"></a>定点数</h3><p>Decimal</p>
<p>能够保证数据精确的小数（小数部分可能不精确，超出长度会四舍五入），整数部分一定精确</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Decimal(M,D)：M表示总长度，最大不能超过65，D代表小数部分长度，最长不超过30；整数部分和小数部分是分开保存的</span><br></pre></td></tr></table></figure>

<h3 id="日期时间类型"><a href="#日期时间类型" class="headerlink" title="日期时间类型"></a>日期时间类型</h3><h3 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">日期类型：系统使用三个字节来存储数据，对用格式位：YYYY-mm-dd，能表示的范围是从1000-01-01到9999-12-12，初始值为0000-00-00</span><br></pre></td></tr></table></figure>

<h3 id="Time"><a href="#Time" class="headerlink" title="Time"></a>Time</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">时间类型：能够表示某个指定的时间，但是系统同样是提供三个字节来存储，对应格式为：HH:ii:ss,但是mysql中的time类型能够表示时间范围要大得多，能表示从 -838:59:59~838:59:59</span><br></pre></td></tr></table></figure>

<h3 id="Datetime"><a href="#Datetime" class="headerlink" title="Datetime"></a>Datetime</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">将前面的date和time合并起来，表示的时间，使用8个字节存储数据，格式为YYYY-mm-dd HH:ii:ss	能表示的区间1000-01-01 00:00:00到 9999-12-12 23:59:59 其中可以为0值</span><br></pre></td></tr></table></figure>

<h3 id="Timestamp"><a href="#Timestamp" class="headerlink" title="Timestamp"></a>Timestamp</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">时间戳类型：mysql的时间戳表示从格林威治时间开始，格式与Datetime一样；同一行内容修改，会自动同步最新时间  </span><br></pre></td></tr></table></figure>

<h3 id="Year"><a href="#Year" class="headerlink" title="Year"></a>Year</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">年类型：占用一个字节保存，能表示1900~2155，year有两种插入方式：0~99，四位数具体年；两位数插入时，69  70  是个分界线</span><br></pre></td></tr></table></figure>

<h2 id="字符串型"><a href="#字符串型" class="headerlink" title="字符串型"></a>字符串型</h2><h3 id="Char"><a href="#Char" class="headerlink" title="Char"></a>Char</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">顶长字符，指定长度之后，系统一定会分配指定的空间用于存储数据</span><br><span class="line">语法</span><br><span class="line">char(L)：L代表字符数（中英文一样），存储长度为0-255</span><br></pre></td></tr></table></figure>

<h3 id="Varchar"><a href="#Varchar" class="headerlink" title="Varchar"></a>Varchar</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">变长字符：指定长度后，系统会根据实际存储数据来计算长度，分配合适的长的存储数据；保存完数据，要记录数据长度，最多占用两个字节</span><br><span class="line">varchar(L)：L代表字符数，L的理论长度为0-65535</span><br></pre></td></tr></table></figure>

<h3 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h3><p>文本类型：本质上mysql提供了两种文本类型</p>
<p>text：存储普通的字符</p>
<p>blob：存储二进制文本（图片，文件），一般不用blob来存储文件本身，通常是使用一个链接来指向对应的文件本身。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">test：系统中提供四种test</span><br><span class="line">Tinytest：系统使用一个字节来保存，实际能够保存的数据为2^8+1</span><br><span class="line">text：使用两个字节保存，实际存储：2^16+2</span><br><span class="line">Mediumtext:使用三个字节保存，实际存储 2^24 +3</span><br><span class="line">Longtext:使用四个字节保存，实际存储为：2^32+4</span><br><span class="line"></span><br><span class="line">注意：在选择对应的存储文本时，不用刻意去选择text类型，系统会自动根据存储的数据长度来选择合适的文本类型</span><br></pre></td></tr></table></figure>

<h3 id="Enum"><a href="#Enum" class="headerlink" title="Enum"></a>Enum</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">枚举类型：在数据插入之前，先预定及个项，这几个项就是可能得到最终出现的结果。</span><br><span class="line">基本语法：</span><br><span class="line">enum(数据值1,数据值2)</span><br><span class="line"># 系统提供了1到2个字节来存储枚举数据：通过计算enum列举的具体值来选择实际的存储空间，如果数据值在255内，一个字节就够了</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">枚举存储原理：实际上字段所存储的值并不是真正的字符串，而是字符串对应的下标：当系统设定枚举类型的时候，会给枚举中每一个元素定义一个下标，这个下标规则从1开始（数组方式）</span><br><span class="line">所以，enum字段实际存储的是数值，在进行数据插入的时候，可以使用相应的数值进行。</span><br></pre></td></tr></table></figure>

<p>特性：在mysql中系统是自动进行类型转换的：如果数据碰到运算符，系统会自动将数据转换为数值，普通字符串转换成数值0</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table enum(</span><br><span class="line">    -&gt; gender enum(&#x27;男&#x27;,&#x27;女&#x27;,&#x27;保密&#x27;));</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc enum;</span><br><span class="line">+--------+----------------------------+------+-----+---------+-------+</span><br><span class="line">| Field  | Type                       | Null | Key | Default | Extra |</span><br><span class="line">+--------+----------------------------+------+-----+---------+-------+</span><br><span class="line">| gender | enum(&#x27;男&#x27;,&#x27;女&#x27;,&#x27;保密&#x27;)     | YES  |     | NULL    |       |</span><br><span class="line">+--------+----------------------------+------+-----+---------+-------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt; insert into enum values(&#x27;男&#x27;); insert into enum values(&#x27;女&#x27;); insert into enum values(&#x27;保密&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from enum;</span><br><span class="line">+--------+</span><br><span class="line">| gender |</span><br><span class="line">+--------+</span><br><span class="line">| 男     |</span><br><span class="line">| 女     |</span><br><span class="line">| 保密   |</span><br><span class="line">+--------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into enum values(1);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select  * from enum;</span><br><span class="line">+--------+</span><br><span class="line">| gender |</span><br><span class="line">+--------+</span><br><span class="line">| 男     |</span><br><span class="line">| 女     |</span><br><span class="line">| 保密   |</span><br><span class="line">| 男     |</span><br><span class="line">+--------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select gender + 0 from enum;</span><br><span class="line">+------------+</span><br><span class="line">| gender + 0 |</span><br><span class="line">+------------+</span><br><span class="line">|          1 |</span><br><span class="line">|          2 |</span><br><span class="line">|          3 |</span><br><span class="line">|          1 |</span><br><span class="line">|          2 |</span><br><span class="line">+------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">集合：是一种将多个数据选项可以同时保存的数据类型，本质是将指定的项按照对应的二进制位进行的控制的：1表示该项被选中，而表示该项没有被选中。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">语法：</span><br><span class="line">set(&#x27;值1&#x27;,&#x27;值2&#x27;,&#x27;值3&#x27;,&#x27;值4&#x27;,……);</span><br><span class="line">系统为set提供多个字节进行保存，但是系统会自动计算来选择具体的存储单元</span><br><span class="line">与enum一样，字段最终存储的是数值</span><br><span class="line"></span><br><span class="line">1个字节：set只能由8个选项</span><br><span class="line">2个字节：set只能由16个选项</span><br><span class="line">最多8个字节：64个选项</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table my_set(</span><br><span class="line">    -&gt; hooby set(&#x27;篮球&#x27;,&#x27;足球&#x27;,&#x27;羽毛球&#x27;,&#x27;乒乓球&#x27;,&#x27;冰球&#x27;,&#x27;网球&#x27;,&#x27;橄榄球&#x27;,&#x27;蹴鞠&#x27;)</span><br><span class="line">    -&gt; );</span><br><span class="line">    mysql&gt; insert into my_set values(&#x27;足球,网球,蹴鞠&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from my_set;</span><br><span class="line">+----------------------+</span><br><span class="line">| hooby                |</span><br><span class="line">+----------------------+</span><br><span class="line">| 足球,网球,蹴鞠       |</span><br><span class="line">+----------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">数据存储过程：</span><br><span class="line">			&#x27;篮球&#x27;,&#x27;足球&#x27;,&#x27;羽毛球&#x27;,&#x27;乒乓球&#x27;,&#x27;冰球&#x27;,&#x27;网球&#x27;,&#x27;橄榄球&#x27;,&#x27;蹴鞠&#x27;</span><br><span class="line">			  1      1       1       1       1      1      1       1</span><br><span class="line">			  </span><br><span class="line">			  足球,网球,蹴鞠 </span><br><span class="line">			  (01000101)</span><br><span class="line">			  </span><br><span class="line">			  将二进制顺序颠倒</span><br><span class="line">			  10100010</span><br><span class="line">			  转换为10进制</span><br><span class="line">			  162</span><br><span class="line">			  </span><br><span class="line">mysql&gt; select hooby+0 from my_set;</span><br><span class="line">+---------+</span><br><span class="line">| hooby+0 |</span><br><span class="line">+---------+</span><br><span class="line">|     162 |</span><br><span class="line">+---------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line">			  </span><br><span class="line">			  </span><br><span class="line">			  </span><br><span class="line">			  </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p>enum：单选框</p>
<p>set：复选框</p>
<h2 id="Mysql记录长度"><a href="#Mysql记录长度" class="headerlink" title="Mysql记录长度"></a>Mysql记录长度</h2><p>mysql的记录最大长度为35535个字节</p>
<p>证明varchar在mysql中只能够达到的理论值（utf8和GBK）</p>
<p>varchar除了存储数据本身外，还需要额外空间来保存记录长度</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table my_utf(</span><br><span class="line">    -&gt; name varchar(65535)</span><br><span class="line">    -&gt; )charset utf8;</span><br><span class="line">ERROR 1074 (42000): Column length too big for column &#x27;name&#x27; (max = 21845); use BLOB or TEXT instead</span><br><span class="line"># 实际是21844   65535/3=21845</span><br><span class="line">mysql&gt; create table my_utf(</span><br><span class="line">    -&gt; name varchar(21844)</span><br><span class="line">    -&gt; )charset utf8;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 65525/2=32767  实际最大可用32766</span><br><span class="line"></span><br><span class="line">mysql&gt; create table my_gbk(</span><br><span class="line">    -&gt; name varchar(32766)</span><br><span class="line">    -&gt; )charset GBK;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; create table my_gbk1(</span><br><span class="line">    -&gt; name varchar(32767)</span><br><span class="line">    -&gt; )charset GBK;</span><br><span class="line">ERROR 1118 (42000): Row size too large. The maximum row size for the used table type, not counting BLOBs, is 65535. This includes storage overhead, check the manual. You have to change some columns to TEXT or BLOBs</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="列属性"><a href="#列属性" class="headerlink" title="列属性"></a>列属性</h2><h3 id="NULL属性"><a href="#NULL属性" class="headerlink" title="NULL属性"></a>NULL属性</h3><p>1、在设计表的时候，尽量不要让数据为空</p>
<p>2、mysql的记录长度为65535个字节，如果一个表中有字段允许为NULL，那么系统就会设计保留一个字节来存储NULL，最终有效存储长度为65534个字节</p>
<h3 id="默认值-1"><a href="#默认值-1" class="headerlink" title="默认值"></a>默认值</h3><p>default：默认值，当字段被设计的时候，如果允许默认条件下，用户不进行数据插入，那么就可以使用事先准备好的数据来填充，通常填充的是NULL</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table my_default(</span><br><span class="line">    -&gt; name varchar(10),</span><br><span class="line">    -&gt; age int default 18</span><br><span class="line">    -&gt; );</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line"># 显示的告知字段使用默认值；在进行数据插入的时候，对字段直接使用default</span><br><span class="line">mysql&gt; insert into my_default values(&#x27;jack&#x27;,default);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="列描述"><a href="#列描述" class="headerlink" title="列描述"></a>列描述</h3><p>查看表的创建才可以看到的注释</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table my_comment(</span><br><span class="line">    -&gt; name varchar(10)  not null comment &#x27;用户名,不为空&#x27;,</span><br><span class="line">    -&gt; passwd varchar(10)  not null comment &#x27;密码,不为空&#x27;</span><br><span class="line">    -&gt; );</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc my_comment;</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field  | Type        | Null | Key | Default | Extra |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| name   | varchar(10) | NO   |     | NULL    |       |</span><br><span class="line">| passwd | varchar(10) | NO   |     | NULL    |       |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show create table my_comment;</span><br><span class="line">+------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Table      | Create Table                                                                                                                                                                                                                                                     |</span><br><span class="line">+------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| my_comment | CREATE TABLE `my_comment` (</span><br><span class="line">  `name` varchar(10) COLLATE utf8_unicode_ci NOT NULL COMMENT &#x27;用户名,不为空&#x27;,</span><br><span class="line">  `passwd` varchar(10) COLLATE utf8_unicode_ci NOT NULL COMMENT &#x27;密码,不为空&#x27;</span><br><span class="line">) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci            |</span><br><span class="line">+------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>

<h2 id="主键"><a href="#主键" class="headerlink" title="主键"></a>主键</h2><p>primary key，具体唯一性</p>
<h3 id="创建主键"><a href="#创建主键" class="headerlink" title="创建主键"></a>创建主键</h3><p>两种创建主键方式</p>
<ol>
<li>直接在需要当作主键的字段之后，增加primary key属性来确定主键</li>
<li>在所有字段之后增加primary key：primary key(字段信息)</li>
</ol>
<h3 id="表后增加"><a href="#表后增加" class="headerlink" title="表后增加"></a>表后增加</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table my_pri1(</span><br><span class="line">    -&gt; name varchar(20)</span><br><span class="line">    -&gt; );</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; alter table my_pri1 add primary key(name);</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; desc my_pri1;</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| name  | varchar(20) | NO   | PRI | NULL    |       |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="删除主键"><a href="#删除主键" class="headerlink" title="删除主键"></a>删除主键</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter table my_pri1 drop primary key;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; desc my_pri1;</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| name  | varchar(20) | NO   |     | NULL    |       |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="复合主键"><a href="#复合主键" class="headerlink" title="复合主键"></a>复合主键</h3><p>俩个字段的数据，同一行的内容，上下不能有重复的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table xh(</span><br><span class="line">    -&gt; id char(10),</span><br><span class="line">    -&gt; cj char(10),</span><br><span class="line">    -&gt; primary key(id,cj)</span><br><span class="line">    -&gt; );</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc xh;</span><br><span class="line">+-------+----------+------+-----+---------+-------+</span><br><span class="line">| Field | Type     | Null | Key | Default | Extra |</span><br><span class="line">+-------+----------+------+-----+---------+-------+</span><br><span class="line">| id    | char(10) | NO   | PRI | NULL    |       |</span><br><span class="line">| cj    | char(10) | NO   | PRI | NULL    |       |</span><br><span class="line">+-------+----------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>

<h3 id="主键约束"><a href="#主键约束" class="headerlink" title="主键约束"></a>主键约束</h3><p>主键一旦增加，对子的字段有数据要求</p>
<ol>
<li>当前字段对应的数据不能为空</li>
<li>当前字段对应的数据类型不能有任何重复</li>
</ol>
<h3 id="主键分类"><a href="#主键分类" class="headerlink" title="主键分类"></a>主键分类</h3><p>采用所对应的字段业务分类</p>
<p>业务主键：主键所在的字段，具有业务意义</p>
<p>逻辑主键：自然增长的整形（应用广泛）</p>
<h2 id="自动增长"><a href="#自动增长" class="headerlink" title="自动增长"></a>自动增长</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line">在字段后面加一个属性auto_increment</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;  create table increment(</span><br><span class="line">    -&gt;  id int primary key auto_increment,</span><br><span class="line">    -&gt;  name varchar(10),</span><br><span class="line">    -&gt;  passwd varchar(10));</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc increment;</span><br><span class="line">+--------+-------------+------+-----+---------+----------------+</span><br><span class="line">| Field  | Type        | Null | Key | Default | Extra          |</span><br><span class="line">+--------+-------------+------+-----+---------+----------------+</span><br><span class="line">| id     | int(11)     | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name   | varchar(10) | YES  |     | NULL    |                |</span><br><span class="line">| passwd | varchar(10) | YES  |     | NULL    |                |</span><br><span class="line">+--------+-------------+------+-----+---------+----------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into increment values(null,&#x27;小明&#x27;,&#x27;123465&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from increment;</span><br><span class="line">+----+--------+--------+</span><br><span class="line">| id | name   | passwd |</span><br><span class="line">+----+--------+--------+</span><br><span class="line">|  1 | 小明   | 123465 |</span><br><span class="line">+----+--------+--------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>

<h3 id="修改自增长"><a href="#修改自增长" class="headerlink" title="修改自增长"></a>修改自增长</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">下一次自增长从多少开始</span><br><span class="line">mysql&gt; alter table increment auto_increment=10;</span><br><span class="line">mysql&gt; show create table increment;</span><br><span class="line">+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Table     | Create Table                                                                                                                                                                                                                                                                                   |</span><br><span class="line">+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| increment | CREATE TABLE `increment` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `name` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,</span><br><span class="line">  `passwd` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=MyISAM AUTO_INCREMENT=10 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci |</span><br><span class="line">+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="删除自增长"><a href="#删除自增长" class="headerlink" title="删除自增长"></a>删除自增长</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">修改自增长所在字段时，如果没有添加auto_increment属性，系统会自动清除该自增长</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter table increment modify id int;</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line">Records: 1  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; desc increment;</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field  | Type        | Null | Key | Default | Extra |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| id     | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| name   | varchar(10) | YES  |     | NULL    |       |</span><br><span class="line">| passwd | varchar(10) | YES  |     | NULL    |       |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="初始设置"><a href="#初始设置" class="headerlink" title="初始设置"></a>初始设置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">查看自增长初始变量设置</span><br><span class="line">mysql&gt; show variables like &quot;auto_increment%&quot;;</span><br><span class="line">+--------------------------+-------+</span><br><span class="line">| Variable_name            | Value |</span><br><span class="line">+--------------------------+-------+</span><br><span class="line">| auto_increment_increment | 1     |    # 步长</span><br><span class="line">| auto_increment_offset    | 1     |	# 初始值</span><br><span class="line">+--------------------------+-------+</span><br><span class="line">2 rows in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="唯一键"><a href="#唯一键" class="headerlink" title="唯一键"></a>唯一键</h2><p>unique key，保证对应字段的数据唯一性。</p>
<p>唯一键允许字段为空，表中可以有多个唯一键</p>
<h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><p>在表字段后面加 unique key</p>
<p>使用方法和主键一样</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table unique1(</span><br><span class="line">    -&gt; id int primary key auto_increment,</span><br><span class="line">    -&gt; uname varchar(10) unique,</span><br><span class="line">    -&gt; passwd varchar(10) unique</span><br><span class="line">    -&gt; );</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc unique1;</span><br><span class="line">+--------+-------------+------+-----+---------+----------------+</span><br><span class="line">| Field  | Type        | Null | Key | Default | Extra          |</span><br><span class="line">+--------+-------------+------+-----+---------+----------------+</span><br><span class="line">| id     | int(11)     | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| uname  | varchar(10) | YES  | UNI | NULL    |                |</span><br><span class="line">| passwd | varchar(10) | YES  | UNI | NULL    |                |</span><br><span class="line">+--------+-------------+------+-----+---------+----------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>

<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><p>index关键字：索引，唯一键是索引的一种</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show create table unique1;</span><br><span class="line">+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Table   | Create Table                                                                                                                                                                                                                                                                                                                                  |</span><br><span class="line">+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| unique1 | CREATE TABLE `unique1` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `uname` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,</span><br><span class="line">  `passwd` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  UNIQUE KEY `uname` (`uname`),</span><br><span class="line">  UNIQUE KEY `passwd` (`passwd`)</span><br><span class="line">) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci |</span><br><span class="line">+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter table unique1 drop  index uname;</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line">Records: 1  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure>

<h2 id="表关系"><a href="#表关系" class="headerlink" title="表关系"></a>表关系</h2><p>一对一</p>
<p>一对多</p>
<p>多对多</p>
<h2 id="高级数据操作"><a href="#高级数据操作" class="headerlink" title="高级数据操作"></a>高级数据操作</h2><h3 id="多数据插入"><a href="#多数据插入" class="headerlink" title="多数据插入"></a>多数据插入</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into 表名([字段列表]) values(值列表),(值列表)......</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into my_pri1 values</span><br><span class="line">    -&gt; (&#x27;张三&#x27;,1),</span><br><span class="line">    -&gt; (&#x27;张四&#x27;,2),</span><br><span class="line">    -&gt; (&#x27;张五&#x27;,3);</span><br><span class="line">Query OK, 3 rows affected (0.00 sec)</span><br><span class="line">Records: 3  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure>

<h3 id="主键冲突"><a href="#主键冲突" class="headerlink" title="主键冲突"></a>主键冲突</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from my_pri1;</span><br><span class="line">+--------+----+</span><br><span class="line">| name   | id |</span><br><span class="line">+--------+----+</span><br><span class="line">| 张三   |  1 |</span><br><span class="line">| 张四   |  2 |</span><br><span class="line">| 张五   |  3 |</span><br><span class="line">+--------+----+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">-- 插入数据，提醒我们主键冲突</span><br><span class="line">mysql&gt; insert into my_pri1 values(&#x27;晓婷&#x27;,3);</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &#x27;3&#x27; for key &#x27;PRIMARY&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 1、解决，向表my_pri1插入一条数据，如果主键冲突，修改name字段值为要插入数据值</span><br><span class="line">mysql&gt; insert into my_pri1 values(&#x27;晓婷&#x27;,3) on duplicate key update name=&#x27;晓婷&#x27;;</span><br><span class="line">Query OK, 2 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from my_pri1;</span><br><span class="line">+--------+----+</span><br><span class="line">| name   | id |</span><br><span class="line">+--------+----+</span><br><span class="line">| 张三   |  1 |</span><br><span class="line">| 张四   |  2 |</span><br><span class="line">| 晓婷   |  3 |</span><br><span class="line">+--------+----+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">-- 2、使用replace替换</span><br><span class="line">语法，把 insert 语句的 insert 替换为 replace 即可</span><br><span class="line"></span><br><span class="line">replace into my_pri1 values(&#x27;张一&#x27;,1);</span><br></pre></td></tr></table></figure>

<h3 id="蠕虫复制"><a href="#蠕虫复制" class="headerlink" title="蠕虫复制"></a>蠕虫复制</h3><p>一分为二，成倍的增加。从已有的数据中获取数据，并将获取到的数据插入到数据表中</p>
<p>注意主键冲突，</p>
<p>可以短期内添加大量数据，测试表的压力</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from class;</span><br><span class="line">+------+------+-------------+</span><br><span class="line">| id   | age  | name        |</span><br><span class="line">+------+------+-------------+</span><br><span class="line">| 1    |   10 | 宕斿仴      |</span><br><span class="line">| 1    |   10 | 崔          |</span><br><span class="line">| 2    |    2 | cuiji0x0aan |</span><br><span class="line">| 2    |    2 | cuijin0x0a  |</span><br><span class="line">| 10   |    3 | 发顺丰      |</span><br><span class="line">| 6    |   20 | 方式        |</span><br><span class="line">| 1    |   20 | 崔健        |</span><br><span class="line">+------+------+-------------+</span><br><span class="line">7 rows in set (0.00 sec)</span><br><span class="line">-- 蠕虫复制</span><br><span class="line">mysql&gt; insert into class select * from class;</span><br><span class="line">Query OK, 7 rows affected (0.00 sec)</span><br><span class="line">Records: 7  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into class select * from class;</span><br><span class="line">Query OK, 14 rows affected (0.00 sec)</span><br><span class="line">Records: 14  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into class select * from class;</span><br><span class="line">Query OK, 28 rows affected (0.00 sec)</span><br><span class="line">Records: 28  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into class select * from class;</span><br><span class="line">Query OK, 56 rows affected (0.00 sec)</span><br><span class="line">Records: 56  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table users1 like security.users;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc users1;</span><br><span class="line">+----------+-------------+------+-----+---------+----------------+</span><br><span class="line">| Field    | Type        | Null | Key | Default | Extra          |</span><br><span class="line">+----------+-------------+------+-----+---------+----------------+</span><br><span class="line">| id       | int(3)      | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| username | varchar(20) | NO   |     | NULL    |                |</span><br><span class="line">| password | varchar(20) | NO   |     | NULL    |                |</span><br><span class="line">+----------+-------------+------+-----+---------+----------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">-- 蠕虫复制</span><br><span class="line">mysql&gt; insert into users1 select * from security.users;</span><br><span class="line">Query OK, 15 rows affected (0.00 sec)</span><br><span class="line">Records: 15  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from users1;</span><br><span class="line">+----+----------------------+----------------------+</span><br><span class="line">| id | username             | password             |</span><br><span class="line">+----+----------------------+----------------------+</span><br><span class="line">|  1 | Dumb                 | Dumb                 |</span><br><span class="line">|  2 | Angelina             | I-kill-you           |</span><br><span class="line">|  3 | Dummy                | p@ssword             |</span><br><span class="line">|  4 | secure               | crappy               |</span><br><span class="line">|  5 | stupid               | stupidity            |</span><br><span class="line">|  6 | superman             | genious              |</span><br><span class="line">|  7 | batman               | mob!le               |</span><br><span class="line">|  8 | admin                | admin                |</span><br><span class="line">|  9 | admin1               | admin1               |</span><br><span class="line">| 10 | admin2               | admin2               |</span><br><span class="line">| 11 | admin3               | admin3               |</span><br><span class="line">| 12 | dhakkan              | dumbo                |</span><br><span class="line">| 14 | admin4               | admin4               |</span><br><span class="line">| 15 | 12345678912345678912 | 123456789123456789   |</span><br><span class="line">| 16 | 12345678912345678912 | 12345678912345678912 |</span><br><span class="line">+----+----------------------+----------------------+</span><br><span class="line">15 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="更新数据-1"><a href="#更新数据-1" class="headerlink" title="更新数据"></a>更新数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">可用limit做限制</span><br><span class="line">update 表名 set 字段名 = 新值 [where 条件] limit 数字;</span><br></pre></td></tr></table></figure>

<h3 id="删除数据-1"><a href="#删除数据-1" class="headerlink" title="删除数据"></a>删除数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">delete删除数据，但不会重置auto_increment</span><br><span class="line">truncate 表名;  -- 重置auto_increment</span><br></pre></td></tr></table></figure>

<h3 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">完整的查询指令</span><br><span class="line"></span><br><span class="line">select 选项 字段列表 from 数据源 where 条件 gruop by 分组 having 条件 order by 排序 limit 限制;</span><br></pre></td></tr></table></figure>

<h4 id="选项"><a href="#选项" class="headerlink" title="选项"></a><strong>选项</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">选项 </span><br><span class="line">ALL 默认的，保存所有数据</span><br><span class="line">select all *  == select *</span><br><span class="line"></span><br><span class="line">Distinct:去除重复记录</span><br><span class="line">select distinct * </span><br></pre></td></tr></table></figure>

<h4 id="字段列表"><a href="#字段列表" class="headerlink" title="字段列表"></a><strong>字段列表</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">字段列表</span><br><span class="line">有时候需要从几张表里获取数据，在获取数据的时候，可能存在不同表中有同名的字段，需要将同名的字段命名成不同名的:别名:alias</span><br><span class="line"></span><br><span class="line">语法：</span><br><span class="line">字段名 [as]</span><br><span class="line"></span><br><span class="line">mysql&gt; select username as name1,username name2 from users1;</span><br><span class="line">+----------+----------+</span><br><span class="line">| name1    | name2    |</span><br><span class="line">+----------+----------+</span><br><span class="line">| Dumb     | Dumb     |</span><br><span class="line">| Angelina | Angelina |</span><br><span class="line">| Dummy    | Dummy    |</span><br><span class="line">| secure   | secure   |</span><br><span class="line">| stupid   | stupid   |</span><br><span class="line">| superman | superman |</span><br><span class="line">| batman   | batman   |</span><br><span class="line">+----------+----------+</span><br><span class="line">7 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="from源"><a href="#from源" class="headerlink" title="from源"></a>from源</h3><h4 id="单表查询"><a href="#单表查询" class="headerlink" title="单表查询"></a>单表查询</h4><h4 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from 表1,表2......</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">结果：两张表的记录数相乘，字段数拼接</span><br><span class="line">本质：从第一张表取出一条记录，去拼凑第二张表的所有记录，保留所有结果。得到的结果在数学上有一个专业的说法：笛卡尔积</span><br></pre></td></tr></table></figure>

<h4 id="动态数据"><a href="#动态数据" class="headerlink" title="动态数据"></a>动态数据</h4><p>from后面跟的不是一个实体表，而是一个从表中查询出来的二维结果表（子查询）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from (select 字段列表 from 表) as 表名;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from (select * from users1) as bieming;</span><br><span class="line">+----+----------+------------+</span><br><span class="line">| id | username | password   |</span><br><span class="line">+----+----------+------------+</span><br><span class="line">|  1 | Dumb     | Dumb       |</span><br><span class="line">|  2 | Angelina | I-kill-you |</span><br><span class="line">|  3 | Dummy    | p@ssword   |</span><br><span class="line">|  4 | secure   | crappy     |</span><br><span class="line">|  5 | stupid   | stupidity  |</span><br><span class="line">|  6 | superman | genious    |</span><br><span class="line">|  7 | batman   | mob!le     |</span><br><span class="line">+----+----------+------------+</span><br><span class="line">7 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="group-by"><a href="#group-by" class="headerlink" title="group by"></a>group by</h4><p>分组统计</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;  select class_id,count(*),group_concat(name) from student group by class_id;</span><br><span class="line">+----------+----------+----------------------+</span><br><span class="line">| class_id | count(*) | group_concat(name)   |</span><br><span class="line">+----------+----------+----------------------+</span><br><span class="line">|        1 |        3 | 崔健,宋旭,夏红       |</span><br><span class="line">|        2 |        2 | 明明,花花            |</span><br><span class="line">+----------+----------+----------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>多分组</p>
<p>回溯统计</p>
<h4 id="having子句"><a href="#having子句" class="headerlink" title="having子句"></a>having子句</h4><p>可以对group by 进行再次筛选</p>
<p>注意：<br>having 是在group by之后，group by实在where之后：where的时候表示将数据从磁盘拿到内存，where之后的所有操作哦都是内存操作</p>
<h4 id="order-by子句"><a href="#order-by子句" class="headerlink" title="order by子句"></a>order by子句</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line">order by 字段 [asc/desc];  # asc升序，默认的</span><br></pre></td></tr></table></figure>

<h4 id="limit-字句"><a href="#limit-字句" class="headerlink" title="limit 字句"></a>limit 字句</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">limit offset,lenght; # offset：偏移量。从哪开始，lenght：集体获取多少条数据</span><br></pre></td></tr></table></figure>

<h2 id="查询中的运算符"><a href="#查询中的运算符" class="headerlink" title="查询中的运算符"></a>查询中的运算符</h2><h3 id="算数运算符-1"><a href="#算数运算符-1" class="headerlink" title="算数运算符"></a>算数运算符</h3><p> select 字段列表 from 源表</p>
<h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;	&gt;=	&lt;	&lt;=	=/&lt;=&gt;	&lt;&gt;:不等于</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 以班级为单位，列出两个班中年龄大于20的人数</span><br><span class="line">mysql&gt; select class_id, count(*), group_concat(name,&#x27;:&#x27;,age) from student where age &gt; 20 group by class_id;</span><br><span class="line">+----------+----------+----------------------------+</span><br><span class="line">| class_id | count(*) | group_concat(name,&#x27;:&#x27;,age) |</span><br><span class="line">+----------+----------+----------------------------+</span><br><span class="line">|        1 |        2 | 宋旭:21,夏红:30            |</span><br><span class="line">|        2 |        2 | 明明:50,花花:40            |</span><br><span class="line">+----------+----------+----------------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>在Mysql中没有bool值，1代表True，0代表False</p>
<p>Between 条件1 and 条件2，条件1必须小于条件2，<strong>闭区间查找</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student where age between 30 and 50;</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">| class_id | name   | age  | hight |</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">|        2 | 明明   |   50 |   1.8 |</span><br><span class="line">|        2 | 花花   |   40 |   1.6 |</span><br><span class="line">|        1 | 夏红   |   30 |  1.65 |</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="逻辑运算符-1"><a href="#逻辑运算符-1" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>and	or	not</p>
<h3 id="IN-运算"><a href="#IN-运算" class="headerlink" title="IN 运算"></a>IN 运算</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select &#x27;a&#x27; in (&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;);</span><br><span class="line">+----------------------+</span><br><span class="line">| &#x27;a&#x27; in (&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;) |</span><br><span class="line">+----------------------+</span><br><span class="line">|                    1 |</span><br><span class="line">+----------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>IS运算</p>
<p>用来判断是否为null</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from xh where class_id is null;</span><br><span class="line">+----+--------+----------+</span><br><span class="line">| id | cj     | class_id |</span><br><span class="line">+----+--------+----------+</span><br><span class="line">| 3  | 松溪   | NULL     |</span><br><span class="line">+----+--------+----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from xh where class_id is not null;</span><br><span class="line">+----+--------+----------+</span><br><span class="line">| id | cj     | class_id |</span><br><span class="line">+----+--------+----------+</span><br><span class="line">| 1  | 崔健   | a        |</span><br><span class="line">| 2  | 崔健   | b        |</span><br><span class="line">| 2  | 宋旭   | b        |</span><br><span class="line">+----+--------+----------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="like运算"><a href="#like运算" class="headerlink" title="like运算"></a>like运算</h3><p>模糊查询</p>
<p>占位符：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_:匹配对应的单个字符</span><br><span class="line">%：匹配多个字符</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student where name like &#x27;崔_&#x27;;</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">| class_id | name   | age  | hight |</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">|        1 | 崔健   |   20 |  1.75 |</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student where name like &#x27;崔%&#x27;;</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">| class_id | name   | age  | hight |</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">|        1 | 崔健   |   20 |  1.75 |</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h2><p>union</p>
<p>默认是去重的</p>
<p>union all 保存所有数据</p>
<p>union 两边查询的字段数要一致</p>
<p><strong>联合查询配合order by</strong></p>
<ol>
<li>使用order by 时两边的查询语句必须括起来</li>
<li>必须配合limit使用</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; (select * from student where class_id=1 order by age limit 10) union  (select * from student where class_id=2 order by age desc limit 10);</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">| class_id | name   | age  | hight |</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">|        1 | 崔健   |   20 |  1.75 |</span><br><span class="line">|        1 | 宋旭   |   21 |  1.76 |</span><br><span class="line">|        1 | 夏红   |   30 |  1.65 |</span><br><span class="line">|        2 | 明明   |   50 |   1.8 |</span><br><span class="line">|        2 | 花花   |   40 |   1.6 |</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h2><h3 id="交叉连接"><a href="#交叉连接" class="headerlink" title="交叉连接"></a>交叉连接</h3><p>产生的结果是笛卡尔积</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from xh cross join student;</span><br></pre></td></tr></table></figure>

<h3 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h3><p>inner join</p>
<p>原理：从一张表中去除所有记录去另外一张表中匹配；利用匹配条件进行匹配，成功则保留，失败则放弃</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">语法</span><br><span class="line">表1 [inner] join 表2 on 匹配条件</span><br><span class="line">on 可以用where替换，where替换后现在一次笛卡尔积在进行where匹配</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student inner join users1 on student.class_id = users1.id;  -- 表名可以用别名</span><br><span class="line">+----------+--------+------+-------+----+----------+------------+</span><br><span class="line">| class_id | name   | age  | hight | id | username | password   |</span><br><span class="line">+----------+--------+------+-------+----+----------+------------+</span><br><span class="line">|        1 | 崔健   |   20 |  1.75 |  1 | Dumb     | Dumb       |</span><br><span class="line">|        1 | 宋旭   |   21 |  1.76 |  1 | Dumb     | Dumb       |</span><br><span class="line">|        2 | 明明   |   50 |   1.8 |  2 | Angelina | I-kill-you |</span><br><span class="line">|        2 | 花花   |   40 |   1.6 |  2 | Angelina | I-kill-you |</span><br><span class="line">|        1 | 夏红   |   30 |  1.65 |  1 | Dumb     | Dumb       |</span><br><span class="line">+----------+--------+------+-------+----+----------+------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h3><p>outer join</p>
<p>外连接分两种</p>
<p>左连接：左表是主表 left join</p>
<p>右连接：右表是主表right join</p>
<p>原理：</p>
<ol>
<li>那主表的每一条记录去匹配另一张表的（从表）的每一条记录</li>
<li>如果主表的每一条数据都没有匹配成功，那么也要保留记录；从表对应字段值都为null</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">语法</span><br><span class="line">左连接：主表 left join 从表 on 连接条件</span><br><span class="line">右连接：从表 right join 主表 on 连接条件</span><br><span class="line"></span><br><span class="line">左连接对应的主表数据在左边；</span><br><span class="line">右连接对应的主表数据在右边；</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">-- 左连接</span><br><span class="line">mysql&gt; select * from xh left join users1 on  xh.id=users1.id;</span><br><span class="line">+----+--------+----------+------+----------+------------+</span><br><span class="line">| id | cj     | class_id | id   | username | password   |</span><br><span class="line">+----+--------+----------+------+----------+------------+</span><br><span class="line">| 1  | 崔健   | a        |    1 | Dumb     | Dumb       |</span><br><span class="line">| 2  | 崔健   | b        |    2 | Angelina | I-kill-you |</span><br><span class="line">| 2  | 宋旭   | b        |    2 | Angelina | I-kill-you |</span><br><span class="line">| 3  | 松溪   | NULL     |    3 | Dummy    | p@ssword   |</span><br><span class="line">+----+--------+----------+------+----------+------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">-- 右连接</span><br><span class="line">mysql&gt; select * from xh right join users1 on  xh.id=users1.id;</span><br><span class="line">+------+--------+----------+----+----------+------------+</span><br><span class="line">| id   | cj     | class_id | id | username | password   |</span><br><span class="line">+------+--------+----------+----+----------+------------+</span><br><span class="line">| 1    | 崔健   | a        |  1 | Dumb     | Dumb       |</span><br><span class="line">| 2    | 崔健   | b        |  2 | Angelina | I-kill-you |</span><br><span class="line">| 2    | 宋旭   | b        |  2 | Angelina | I-kill-you |</span><br><span class="line">| 3    | 松溪   | NULL     |  3 | Dummy    | p@ssword   |</span><br><span class="line">| NULL | NULL   | NULL     |  4 | secure   | crappy     |</span><br><span class="line">| NULL | NULL   | NULL     |  5 | stupid   | stupidity  |</span><br><span class="line">| NULL | NULL   | NULL     |  6 | superman | genious    |</span><br><span class="line">| NULL | NULL   | NULL     |  7 | batman   | mob!le     |</span><br><span class="line">+------+--------+----------+----+----------+------------+</span><br><span class="line">8 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure>

<h3 id="using关键字"><a href="#using关键字" class="headerlink" title="using关键字"></a>using关键字</h3><ol>
<li>再连接查询式，使用on得地方用using代替</li>
<li>使用using的前提是对应的两张表连接的字段同名（类似于自然连接自动匹配）</li>
<li>如果使用using关键字，那么对应的同名字段，最在结果中只会保留一个</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from users1 left join xh  using(id);</span><br><span class="line">+----+----------+------------+--------+----------+</span><br><span class="line">| id | username | password   | cj     | class_id |</span><br><span class="line">+----+----------+------------+--------+----------+</span><br><span class="line">|  1 | Dumb     | Dumb       | 崔健   | a        |</span><br><span class="line">|  2 | Angelina | I-kill-you | 崔健   | b        |</span><br><span class="line">|  2 | Angelina | I-kill-you | 宋旭   | b        |</span><br><span class="line">|  3 | Dummy    | p@ssword   | 松溪   | NULL     |</span><br><span class="line">|  4 | secure   | crappy     | NULL   | NULL     |</span><br><span class="line">|  5 | stupid   | stupidity  | NULL   | NULL     |</span><br><span class="line">|  6 | superman | genious    | NULL   | NULL     |</span><br><span class="line">|  7 | batman   | mob!le     | NULL   | NULL     |</span><br><span class="line">+----+----------+------------+--------+----------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><p>sub query</p>
<p>子查询：在一条sql语句中，嵌入了另一条select语句，那么被嵌入的select语句称之为子查询语句</p>
<p>子查询和主查询的关系</p>
<ol>
<li>子查询是嵌入到主查询当中的：</li>
<li>子查询辅助主查询：要么作为条件，要么作为数据源</li>
<li>子查询其实可以独立存在：是一条完整的select语句</li>
</ol>
<h3 id="子查询分类："><a href="#子查询分类：" class="headerlink" title="子查询分类："></a>子查询分类：</h3><p><strong>按功能分：</strong></p>
<p>标量子查询：子查询返回的结果是一个数据（一行一列）</p>
<p>列子查询：返回的结果是一列（一列多行）</p>
<p>行子查询：返回的结果是一行（一行多列）</p>
<p>表子查询：返回的结果是多行多列</p>
<p>Exists子查询：返回的结果是1或者0（类似于bool）</p>
<p><strong>按位置分<em>：</em></strong>*</p>
<p>where子查询：子查询出现的位置在where条件中</p>
<p>from子查询：子查询出现的位置在from数据源中</p>
<p>标量查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from users1 where username=(select username from users1 where id=1 );</span><br><span class="line">+----+----------+----------+</span><br><span class="line">| id | username | password |</span><br><span class="line">+----+----------+----------+</span><br><span class="line">|  1 | Dumb     | Dumb     |</span><br><span class="line">+----+----------+----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>列查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line">主查询 where 条件 in （列查询）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt; select id,username,password from users1 where id in (select id from xh);</span><br><span class="line">+----+----------+------------+</span><br><span class="line">| id | username | password   |</span><br><span class="line">+----+----------+------------+</span><br><span class="line">|  1 | Dumb     | Dumb       |</span><br><span class="line">|  2 | Angelina | I-kill-you |</span><br><span class="line">|  3 | Dummy    | p@ssword   |</span><br><span class="line">+----+----------+------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>行子查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line">主查询 where 条件[(构造一个行元素)] = (行子查询)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student where (age,hight) = (select max(age),max(hight) from student);</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">| class_id | name   | age  | hight |</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">|        2 | 明明   |   50 |   1.8 |</span><br><span class="line">+----------+--------+------+-------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>总结：标量、列、行子查询都属于where子查询</p>
<p>Exists子查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">语法</span><br><span class="line">where exists(查询语句); -- 根据查询到的结果进行判断，如果结果存在，返回1，否则返回0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">where 1; 永远为真</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt;  select * from users1 where exists (select id from xh where xh.id=users1.id);  -- 列子查询也可以实现</span><br><span class="line">+----+----------+------------+</span><br><span class="line">| id | username | password   |</span><br><span class="line">+----+----------+------------+</span><br><span class="line">|  1 | Dumb     | Dumb       |</span><br><span class="line">|  2 | Angelina | I-kill-you |</span><br><span class="line">|  3 | Dummy    | p@ssword   |</span><br><span class="line">+----+----------+------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h3><p>in</p>
<p>any</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">= any ：查询结果右一个匹配即可</span><br><span class="line">&lt;&gt; any ： 查询结果中不匹配其中一个即可</span><br></pre></td></tr></table></figure>

<p>some</p>
<p>以上三个差不多</p>
<p>all</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> = all： 全部都匹配</span><br><span class="line">&lt;&gt; all：全都不匹配</span><br></pre></td></tr></table></figure>

<h2 id="整库数据库备份还原"><a href="#整库数据库备份还原" class="headerlink" title="整库数据库备份还原"></a>整库数据库备份还原</h2><p>整库数据库备份也叫SQL数据备份：备份的结果都是SQL指令</p>
<p>在Mysql中提供了一个专门用于备份SQL的客户端：mysqldump.exe</p>
<p>SQL备份是一中非常常见的备份与还原方式，SQL备份不只是备份数据，还备份对应的SQL指令（表结构）</p>
<p>SQL备份不适合特大型数据备份，不适合数据变换频繁型数据库备份</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line">mysqldump/mysqldump.exe -hPup 数据库名字[表1 [表2......]] &gt; 备份文件地址</span><br></pre></td></tr></table></figure>

<p>1、整库备份</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -hlocalhost -P3306 -uroot -proot test &gt; D:/test.sql</span><br></pre></td></tr></table></figure>

<p>2、多表备份</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -hlocalhost -P3306 -uroot -proot test student  xh &gt; D:/student.sql</span><br></pre></td></tr></table></figure>

<h3 id="数据还原"><a href="#数据还原" class="headerlink" title="数据还原"></a>数据还原</h3><p>数据还原的时候必须指定数据库</p>
<ol>
<li><p>利用mysql.exe客户端：没登陆之前，可以直接使用改客户端进行数据还原</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql.exe -hPup 数据库 &lt; 文件位置</span><br><span class="line"></span><br><span class="line">mysql -hlocalhost -P3306 -uroot -proot test1 &lt; D:/test.sql</span><br></pre></td></tr></table></figure>
</li>
<li><p>利用sql指令，提供一种导入sql指令的方式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">source sql文件位置</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">source D:/test1.sql</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开备份文件，复制sql语句</p>
</li>
</ol>
<h2 id="用户权限管理"><a href="#用户权限管理" class="headerlink" title="用户权限管理"></a>用户权限管理</h2><h3 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h3><p>在mysql中，对应的用户管理中（myslq.user表），是由host和user组成复合主键来区分用户的</p>
<ol>
<li>user：代表用户的用户名</li>
<li>host：是允许访问的客户端（ip或者主机地址）。如果是*代表都可以访问</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">两种方式创建用户</span><br><span class="line"> 1、直接使用root用户在mysql.user表中插入记录</span><br><span class="line"> 2、专门创建用户的Sql指令</span><br><span class="line"> 语法：</span><br><span class="line"> create user 用户名 identified by &#x27;明文密码&#x27;;</span><br><span class="line"> 用户：用户名@主机地址</span><br><span class="line"> 主机地址：&#x27;&#x27;或 %&#x27;</span><br><span class="line">  </span><br><span class="line">mysql&gt; create user &#x27;cj&#x27;@&#x27;%&#x27; identified by &#x27;123456&#x27;;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br></pre></td></tr></table></figure>

<h3 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h3><p>mysql 中user是带着host本身的（具有唯一性）</p>
<p>在mysql8.0版本，不支持password()函数了，password()对密码进行加密</p>
<p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop uesr 用户名@host</span><br></pre></td></tr></table></figure>

<h3 id="修改用户名密码"><a href="#修改用户名密码" class="headerlink" title="修改用户名密码"></a>修改用户名密码</h3><ol>
<li><p>使用专门的修改密码得指令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set password for 用户 = password(&#x27;新的明文密码&#x27;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用更新语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">update mysql.user set password = password(&#x27;新的明文密码&#x27;) where user=&#x27;&#x27; and host = &#x27;&#x27;;</span><br><span class="line">-- 有的表中不是password字段</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3、使用alter（8.0+版本也可用）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER 用户 IDENTIFIED BY &#x27;明文密码&#x27;;</span><br><span class="line"></span><br><span class="line">ALTER USER &#x27;cj&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h3><ol>
<li>数据权限：增删改查(select&#x2F;delete&#x2F;update&#x2F;insert)</li>
<li>结构权限：结构操作(create&#x2F;alter&#x2F;drop)</li>
<li>管理权限：权限管理(create user&#x2F;grant&#x2F;revoke)</li>
</ol>
<h3 id="授予权限"><a href="#授予权限" class="headerlink" title="授予权限"></a>授予权限</h3><p>grant：将权限分配给指定的用户</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">grant 权限列表 on 数据库.表名(*.*) to 用户</span><br><span class="line"></span><br><span class="line">权限列表：使用逗号分隔，可用all privileges代表所有权限</span><br><span class="line"></span><br><span class="line">数据库.表名：可以是单表（数据库.表名）   单库（数据库.*）   整库（*.*）</span><br></pre></td></tr></table></figure>

<h3 id="权限回收"><a href="#权限回收" class="headerlink" title="权限回收"></a>权限回收</h3><p><strong>注意</strong>：自己测试时，发现如果基于用户的权限是逐步赋予的，回收权限时，也要逐步回收</p>
<p>revoke：将权限从用户手里回收</p>
<p>语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">revoke 权限列表 on 数据库.表 from 用户</span><br></pre></td></tr></table></figure>

<h3 id="刷新权限"><a href="#刷新权限" class="headerlink" title="刷新权限"></a>刷新权限</h3><p>flush，将当前对用户的权限操作进行一个刷新</p>
<p>flush privileges</p>
<h3 id="密码忘记解决方案"><a href="#密码忘记解决方案" class="headerlink" title="密码忘记解决方案"></a>密码忘记解决方案</h3><ol>
<li>停止mysql服务</li>
<li>重新启动服务：mysqld.exe -skip-grant-tables  &#x2F;&#x2F; 启动服务但是跳过权限</li>
<li>启动之后的服务器没有权限概念，直接输入mysql就可登录，而且是root权限</li>
<li>修改root密码</li>
<li>重启服务</li>
</ol>
<h2 id="外键"><a href="#外键" class="headerlink" title="外键"></a>外键</h2><p>foreign key</p>
<p>一张表（A）中有一个字段的值，指向另一张表的（B）的主键</p>
<p>A：从表</p>
<p>B：主表</p>
<h3 id="增加外键"><a href="#增加外键" class="headerlink" title="增加外键"></a>增加外键</h3><ol>
<li><p>创建表时增加（类似主键）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[constraint `外键名`] foreign key(外键字段) references 主表(主键)</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建表之后</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 从表 add [constraint `外键名`] foreign key(外键字段) references 主表(主键)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="删除外键"><a href="#删除外键" class="headerlink" title="删除外键"></a>删除外键</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 从表名 drop  foreign key `外键名字`</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 删除外键索引</span><br><span class="line">alter table 从表名 drop  索引名字</span><br></pre></td></tr></table></figure>

<h3 id="外键基本要求"><a href="#外键基本要求" class="headerlink" title="外键基本要求"></a>外键基本要求</h3><ol>
<li>外键字段需要保证与关联的主表的主键字段类型完全一致</li>
<li>基本属性相同</li>
<li>外键只能用innodb存储引擎</li>
</ol>
<h3 id="外键约束"><a href="#外键约束" class="headerlink" title="外键约束"></a>外键约束</h3><ol>
<li>从表不能插入主表外键没有的字段值</li>
<li>主表不能删除，外键字段已经被引用的字段</li>
</ol>
<h3 id="约束的概念"><a href="#约束的概念" class="headerlink" title="约束的概念"></a>约束的概念</h3><p>可以在创建外键时，对外键约束进行选择性操作</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 从表 add [constraint `外键名`] foreign key(外键字段) references 主表(主键) on 约束模式</span><br></pre></td></tr></table></figure>

<p>主要是针对主表的约束</p>
<ol>
<li>district：严格模式，默认的，不允许操作</li>
<li>cascade：级联模式，一起操作，主表变化，从表变化</li>
<li>set null：置空模式，主表变化（删除），从表对应记录为空：前提，从表对应字段可以为空</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在进行约束的时候需要制定操作：update  delete</span><br><span class="line">on update cascade on delete set null</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h2><h3 id="自动事务"><a href="#自动事务" class="headerlink" title="自动事务"></a>自动事务</h3><p>autocommit,当用户发送一条SQL指令给服务器时，服务器执行之后，不等待用户的反馈，自动同步到数据表</p>
<p>用户提供是都同步的命令</p>
<p>commit：提交（同步到数据库，事务清空）</p>
<p>rollback：回滚（清空事务）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">查看自动事务是否开启</span><br><span class="line">mysql&gt; show variables like &quot;autocommit%&quot;;</span><br><span class="line">+---------------+-------+</span><br><span class="line">| Variable_name | Value |</span><br><span class="line">+---------------+-------+</span><br><span class="line">| autocommit    | ON    |</span><br><span class="line">+---------------+-------+</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">关闭</span><br><span class="line">mysql&gt; set autocommit = OFF;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show variables like &#x27;autocommit%&#x27;;</span><br><span class="line">+---------------+-------+</span><br><span class="line">| Variable_name | Value |</span><br><span class="line">+---------------+-------+</span><br><span class="line">| autocommit    | OFF   |</span><br><span class="line">+---------------+-------+</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="手动事务"><a href="#手动事务" class="headerlink" title="手动事务"></a>手动事务</h3><p>开启事务：start transaction</p>
<h3 id="回滚点"><a href="#回滚点" class="headerlink" title="回滚点"></a>回滚点</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">增加回滚点：save 回滚点名字;//字母数字，下划线</span><br><span class="line">回到回滚点：rollback to 回滚点名字</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">可以设置多个回滚点，但是，回滚到前面的回滚点，后面的就没有了</span><br></pre></td></tr></table></figure>

<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a>系统变量</h3><p>show variables：查看系统变量</p>
<p>select @@变量名</p>
<p>修改系统变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">临时修改：set 变量名 = 值</span><br><span class="line">永久修改： set global 变量名 = 值</span><br><span class="line">		  set @@global.变量名 = 值</span><br><span class="line">		  全局修改之后，在新的客户端生效</span><br></pre></td></tr></table></figure>



<h3 id="会话变量"><a href="#会话变量" class="headerlink" title="会话变量"></a>会话变量</h3><p>会话变量也称用户变量，会话变量跟mysql客户端是绑定的，设置的变量，只对当前用户使用的客户端生效</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">定义用户变量：</span><br><span class="line">	set @变量名 := 值;</span><br><span class="line">	</span><br><span class="line">	mysql中的赋值符号  &#x27;:=&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; set @name := &#x27;hello world!&#x27;;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select @name;</span><br><span class="line">+--------------+</span><br><span class="line">| @name        |</span><br><span class="line">+--------------+</span><br><span class="line">| hello world! |</span><br><span class="line">+--------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>Mysql是专门存储数据的，允许数据从表中取出存储到变量中，查询得到的数据只能是一行（一个变量对应一个字段值）,mysql中没有数组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1、赋值且查看赋值过程：</span><br><span class="line">	select @变量1 := 字段1, @变量2 := 字段2,...... fron 数据表 where 条件;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select @username := username, @password := password from users1 where id=6;</span><br><span class="line">+-----------------------+-----------------------+</span><br><span class="line">| @username := username | @password := password |</span><br><span class="line">+-----------------------+-----------------------+</span><br><span class="line">| superman              | genious               |</span><br><span class="line">+-----------------------+-----------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select @username;</span><br><span class="line">+-----------+</span><br><span class="line">| @username |</span><br><span class="line">+-----------+</span><br><span class="line">| superman  |</span><br><span class="line">+-----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select @password;</span><br><span class="line">+-----------+</span><br><span class="line">| @password |</span><br><span class="line">+-----------+</span><br><span class="line">| genious   |</span><br><span class="line">+-----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2、只赋值，不看过程</span><br><span class="line">	select 字段1, 字段2,...... from 数据源 where 条件 into @变量1, @变量2......</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select username,password from users1 where id=2 into @username,@password;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select @username;</span><br><span class="line">+-----------+</span><br><span class="line">| @username |</span><br><span class="line">+-----------+</span><br><span class="line">| Angelina  |</span><br><span class="line">+-----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select @password;</span><br><span class="line">+------------+</span><br><span class="line">| @password  |</span><br><span class="line">+------------+</span><br><span class="line">| I-kill-you |</span><br><span class="line">+------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h3><p>作用范围在begin到end语句块之间。在该语句块里设置的变量，declare语句专门用于定义局部变量</p>
<ol>
<li>局部变量是使用declare关键字声明</li>
<li>局部变量declare语句出现的位置一定是在begin和end之间（beginend实在大型语句块中使用：函数&#x2F;存储过程&#x2F;触发器）</li>
<li>声明语法：declare 变量名 数据类型 [属性];</li>
</ol>
<h2 id="流程结构"><a href="#流程结构" class="headerlink" title="流程结构"></a>流程结构</h2><h3 id="If分支"><a href="#If分支" class="headerlink" title="If分支"></a>If分支</h3><p>if在Mysql中有两种基本用法</p>
<p>1、用在select 查询条件当中，当作一种条件来进行判断</p>
<p>​		</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">基本语法：</span><br><span class="line">	if(条件,为真结果,为假结果)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *, if (age &gt; 30,&#x27;符合&#x27;,&#x27;不符合&#x27;) as juje from student;</span><br><span class="line">+----------+--------+------+-------+-----------+</span><br><span class="line">| class_id | name   | age  | hight | juje      |</span><br><span class="line">+----------+--------+------+-------+-----------+</span><br><span class="line">|        1 | 崔健   |   20 |  1.75 | 不符合    |</span><br><span class="line">|        2 | 明明   |   50 |   1.7 | 符合      |</span><br><span class="line">|        2 | 花花   |   40 |   1.6 | 符合      |</span><br><span class="line">|        1 | 夏红   |   30 |  1.65 | 不符合    |</span><br><span class="line">+----------+--------+------+-------+-----------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>2、用在复杂的语句块中（函数&#x2F;存储过程&#x2F;触发器）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">语法</span><br><span class="line"></span><br><span class="line">if 条件表达式 then</span><br><span class="line">	满足条件执行的语句</span><br><span class="line">End if;</span><br></pre></td></tr></table></figure>

<h3 id="复合语法"><a href="#复合语法" class="headerlink" title="复合语法"></a>复合语法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if 条件表达式 then</span><br><span class="line">	满足条件执行的语句</span><br><span class="line">else</span><br><span class="line">	不满足条件执行的语句;</span><br><span class="line">	//如果还有其他分支，继续嵌套if</span><br><span class="line">		if 条件表达式 then</span><br><span class="line">			执行语句</span><br><span class="line">		else</span><br><span class="line">			执行语句</span><br><span class="line">		End if;</span><br><span class="line">End if;</span><br></pre></td></tr></table></figure>

<h3 id="while循环-1"><a href="#while循环-1" class="headerlink" title="while循环"></a>while循环</h3><p>循环体都是需要在大型代码中使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法</span><br><span class="line">while 条件 do</span><br><span class="line">	在执行代码</span><br><span class="line">End while;</span><br></pre></td></tr></table></figure>

<h3 id="结构表示符"><a href="#结构表示符" class="headerlink" title="结构表示符"></a>结构表示符</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="核心编程技术"><a href="#核心编程技术" class="headerlink" title="核心编程技术"></a>核心编程技术</h1><h2 id="表单传值"><a href="#表单传值" class="headerlink" title="表单传值"></a>表单传值</h2><p>表单传值即浏览器通过表单元素将用户的选择或者输入的数据提交给后台服务器语言</p>
<h3 id="表单传值的方式"><a href="#表单传值的方式" class="headerlink" title="表单传值的方式"></a>表单传值的方式</h3><p>GET传值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1、form表单</span><br><span class="line">&lt;form method=&quot;GET&quot;&gt;表单元素&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2、a标签</span><br><span class="line">&lt;a href=&quot;www.itcast.cn/index.php?学科=PHP&quot;&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3、location对象的href属性</span><br><span class="line">&lt;script&gt;location.href=&quot;www.itcast.cn/index.php?学科=PHP&quot;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4、location对象的assign()方法</span><br><span class="line">&lt;script&gt;location.assign(&quot;www.itcast.cn/index.php?学科=PHP&quot;)&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>POST传值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1、post表单传值的基本设定</span><br><span class="line">&lt;form method=&quot;POST&quot;&gt;表单元素&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<p>POST方式跟GET方式的区别</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1、get方式主要是用来获取数据，不改变服务器上的资源</span><br><span class="line">2、post方式传输的数据主要是用来增加数据，改变服务器上的资源</span><br><span class="line">3、传输方式上，POST必须用表单，而get可以使用form表单和url</span><br><span class="line">4、get和post能传输的数据大小不同，get为2k，post无限制（实际上，两种方式本身没有数据长度限制，浏览器厂商做了一些限制）</span><br><span class="line">5、get传输数据可在url中显示，post不可见</span><br><span class="line">6、get和post传输的数据格式有区别，get传输简单数据（数值/字符串），post可以提交复杂数据（二进制等）</span><br></pre></td></tr></table></figure>

<h3 id="PHP接收数据的三种方式"><a href="#PHP接收数据的三种方式" class="headerlink" title="PHP接收数据的三种方式"></a>PHP接收数据的三种方式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1、不管是$_GET/$_POST?$_REQUEST,三个都是PHP超全局变量预定义数组，表单的元素的&quot;name&quot;属性的值作为数组的下标，而value属性对应的值就是数组的元素值</span><br><span class="line">2、如果get和post中有同名数组元素，post会覆盖get，可以在php.ini中修改</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo &quot;&lt;pre&gt;&quot;;</span><br><span class="line">var_dump($_GET);</span><br><span class="line"></span><br><span class="line">echo &quot;&lt;hr&gt;&quot;;</span><br><span class="line"></span><br><span class="line">var_dump($_POST);</span><br><span class="line"></span><br><span class="line">echo &quot;&lt;hr&gt;&quot;;</span><br><span class="line"></span><br><span class="line">var_dump($_REQUEST);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="PHP处理复选框"><a href="#PHP处理复选框" class="headerlink" title="PHP处理复选框"></a>PHP处理复选框</h3><p>浏览器不识别[ ]，但是PHP认为[ ]有特殊性：系统自动认为该符号是数组的形式，所以PHP就会自动地将同名的但是有[ ]的元素组合到一起形成一个数组</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;2.php&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;basketball&quot;</span>&gt;</span>basketball</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;football&quot;</span>&gt;</span>football</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby[]&quot;</span> <span class="attr">value</span>=<span class="string">&quot;pingpang&quot;</span>&gt;</span>pingpang</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">name</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo &quot;&lt;pre&gt;&quot;;</span><br><span class="line"></span><br><span class="line">print_r($_POST);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo &quot;&lt;pre&gt;&quot;;</span><br><span class="line"></span><br><span class="line">print_r($_POST);</span><br><span class="line"></span><br><span class="line">$hobby = isset($_POST[hobby])?$_POST[hobby]:array();  // 判断提交的数据是否为空</span><br><span class="line"></span><br><span class="line">$hobby_str = implode(&#x27;,&#x27;,$hobby); // 将传递的数组转换为字符串，存储到数据库中</span><br><span class="line">echo $hobby_str;</span><br><span class="line">echo &#x27;&lt;hr&gt;&#x27;;</span><br><span class="line">$arryy = explode(&#x27;,&#x27;, $hobby_str);  // 将数据从数据库中拿出来，重新转换为数组</span><br><span class="line">print_r($arryy);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h2><p>原理：文件从用户本地电脑通过传输方式（web表单）保存到服务器所在电脑指定的目录下</p>
<p>1、增加文件上传的表单：浏览器请求一个服务器的HTML脚本（包含文件上传表单）</p>
<p>2、用户从本地选择一个文件（点击文件上传按钮）</p>
<p>3、用户点击上传，文件会通过互联网传输到服务器上</p>
<p>4、服务器操作系统会将文件保存到临时目录：是以临时文件格式保存（windows下tmp）</p>
<p>5、服务器脚本开始工作：判断文件有效（是否是指定的文件类型）</p>
<p>6、服务器脚本将有效文件从临时目录移动到指定的目录下</p>
<h3 id="表单写法"><a href="#表单写法" class="headerlink" title="表单写法"></a>表单写法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1、method属性：表单提交方式必须为POST</span><br><span class="line">2、enctype属性：form表单属性，主要是规范表单数据的编码方式</span><br><span class="line">	application/x-www-form-urlencoded：在发送前编码所有字符</span><br><span class="line">	multipart/form-data：不对字符编码，在使用包含文件上传控件的表单时，必须使用该值</span><br><span class="line">	text/plain：空格转换为&quot;+&quot;号，但不对特殊字符编码。</span><br><span class="line">3、上传表单：file表单</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;form method=&quot;post&quot;  enctype=&quot;multipart/form-data&quot; action=&quot;2.php&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;file&quot; name=&quot;image&quot; /&gt;</span><br><span class="line">        &lt;input type=&quot;submit&quot; name=&quot;btn&quot; value=&quot;文件上传&quot;/&gt;</span><br><span class="line">   &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h3 id="FILES"><a href="#FILES" class="headerlink" title="$_FILES"></a>$_FILES</h3><p>$_FILES接收到上传的文件</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span>(<span class="number">1</span>) &#123;</span><br><span class="line">  [<span class="string">&quot;image&quot;</span>]=&gt;</span><br><span class="line">  <span class="keyword">array</span>(<span class="number">5</span>) &#123;</span><br><span class="line">    [<span class="string">&quot;name&quot;</span>]=&gt;</span><br><span class="line">    <span class="keyword">string</span>(<span class="number">10</span>) <span class="string">&quot;崔健.jpg&quot;</span></span><br><span class="line">    [<span class="string">&quot;type&quot;</span>]=&gt;</span><br><span class="line">    <span class="keyword">string</span>(<span class="number">10</span>) <span class="string">&quot;image/jpeg&quot;</span></span><br><span class="line">    [<span class="string">&quot;tmp_name&quot;</span>]=&gt;</span><br><span class="line">    <span class="keyword">string</span>(<span class="number">22</span>) <span class="string">&quot;C:\Windows\php48A2.tmp&quot;</span></span><br><span class="line">    [<span class="string">&quot;error&quot;</span>]=&gt;</span><br><span class="line">    <span class="keyword">int</span>(<span class="number">0</span>)</span><br><span class="line">    [<span class="string">&quot;size&quot;</span>]=&gt;</span><br><span class="line">    <span class="keyword">int</span>(<span class="number">28573</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="移动临时文件到指定目录"><a href="#移动临时文件到指定目录" class="headerlink" title="移动临时文件到指定目录"></a>移动临时文件到指定目录</h3><p>1、判断是否为上传文件</p>
<p>2、移动文件</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">&#x27;Content-type:text/html;charset=utf-8&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$file</span> = <span class="variable">$_FILES</span>[<span class="string">&#x27;image&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">is_uploaded_file</span>(<span class="variable">$file</span>[<span class="string">&#x27;tmp_name&#x27;</span>]))&#123;  <span class="comment">// 判断</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_ invoke__">move_uploaded_file</span>(<span class="variable">$file</span>[<span class="string">&#x27;tmp_name&#x27;</span>],<span class="string">&#x27;upload/&#x27;</span>.<span class="variable">$file</span>[<span class="string">&#x27;name&#x27;</span>]))&#123;  <span class="comment">// 移动</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;文件保存成功&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;文件保存失败！&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;上传失败！&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="多文件上传"><a href="#多文件上传" class="headerlink" title="多文件上传"></a>多文件上传</h3><p>$_FILES变量的数据结构</p>
<p><strong>同名表单</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>  <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> <span class="attr">action</span>=<span class="string">&quot;2.php&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;image[]&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;image[]&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;image[]&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">name</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">value</span>=<span class="string">&quot;文件上传&quot;</span>/&gt;</span> </span><br><span class="line">   <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [image] =&gt; Array</span><br><span class="line">        (</span><br><span class="line">            [name] =&gt; Array</span><br><span class="line">                (</span><br><span class="line">                    [0] =&gt; 371324200202240351.jpg</span><br><span class="line">                    [1] =&gt; 372328200207090934.jpg</span><br><span class="line">                    [2] =&gt; 崔健.jpg</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">            [type] =&gt; Array</span><br><span class="line">                (</span><br><span class="line">                    [0] =&gt; image/jpeg</span><br><span class="line">                    [1] =&gt; image/jpeg</span><br><span class="line">                    [2] =&gt; image/jpeg</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">            [tmp_name] =&gt; Array</span><br><span class="line">                (</span><br><span class="line">                    [0] =&gt; C:\Windows\php330F.tmp</span><br><span class="line">                    [1] =&gt; C:\Windows\php3310.tmp</span><br><span class="line">                    [2] =&gt; C:\Windows\php3311.tmp</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">            [error] =&gt; Array</span><br><span class="line">                (</span><br><span class="line">                    [0] =&gt; 0</span><br><span class="line">                    [1] =&gt; 0</span><br><span class="line">                    [2] =&gt; 0</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">            [size] =&gt; Array</span><br><span class="line">                (</span><br><span class="line">                    [0] =&gt; 10855</span><br><span class="line">                    [1] =&gt; 15306</span><br><span class="line">                    [2] =&gt; 28573</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><strong>不同名表单</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>  <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> <span class="attr">action</span>=<span class="string">&quot;2.php&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;image1&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;image2&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;image3&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">name</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">value</span>=<span class="string">&quot;文件上传&quot;</span>/&gt;</span> </span><br><span class="line">   <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [image1] =&gt; Array</span><br><span class="line">        (</span><br><span class="line">            [name] =&gt; 371324200202240351.jpg</span><br><span class="line">            [type] =&gt; image/jpeg</span><br><span class="line">            [tmp_name] =&gt; C:\Windows\php6F7.tmp</span><br><span class="line">            [error] =&gt; 0</span><br><span class="line">            [size] =&gt; 10855</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [image2] =&gt; Array</span><br><span class="line">        (</span><br><span class="line">            [name] =&gt; Default.jpg</span><br><span class="line">            [type] =&gt; image/jpeg</span><br><span class="line">            [tmp_name] =&gt; C:\Windows\php6F8.tmp</span><br><span class="line">            [error] =&gt; 0</span><br><span class="line">            [size] =&gt; 872927</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [image3] =&gt; Array</span><br><span class="line">        (</span><br><span class="line">            [name] =&gt; 372328200207090934.jpg</span><br><span class="line">            [type] =&gt; image/jpeg</span><br><span class="line">            [tmp_name] =&gt; C:\Windows\php6F9.tmp</span><br><span class="line">            [error] =&gt; 0</span><br><span class="line">            [size] =&gt; 15306</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>同名数组遍历</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">&#x27;Content-type:text/html;charset=utf-8&#x27;</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;pre&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_FILES</span>[<span class="string">&#x27;image&#x27;</span>][<span class="string">&#x27;name&#x27;</span>]) &amp;&amp; <span class="title function_ invoke__">is_array</span>(<span class="variable">$_FILES</span>[<span class="string">&#x27;image&#x27;</span>][<span class="string">&#x27;name&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$images</span> = <span class="keyword">array</span>();</span><br><span class="line">    <span class="keyword">foreach</span>(<span class="variable">$_FILES</span>[<span class="string">&#x27;image&#x27;</span>][<span class="string">&#x27;name&#x27;</span>] <span class="keyword">as</span> <span class="variable">$k</span> =&gt; <span class="variable">$v</span>)&#123;</span><br><span class="line">        <span class="variable">$images</span>[] = <span class="keyword">array</span>(</span><br><span class="line">            <span class="string">&#x27;name&#x27;</span> =&gt; <span class="variable">$v</span>,</span><br><span class="line">            <span class="string">&#x27;type&#x27;</span> =&gt; <span class="variable">$_FILES</span>[<span class="string">&#x27;image&#x27;</span>][<span class="string">&#x27;type&#x27;</span>][<span class="variable">$k</span>],</span><br><span class="line">            <span class="string">&#x27;tmp_name&#x27;</span> =&gt; <span class="variable">$_FILES</span>[<span class="string">&#x27;image&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>][<span class="variable">$k</span>],</span><br><span class="line">            <span class="string">&#x27;error&#x27;</span> =&gt; <span class="variable">$_FILES</span>[<span class="string">&#x27;image&#x27;</span>][<span class="string">&#x27;error&#x27;</span>][<span class="variable">$k</span>] ,</span><br><span class="line">            <span class="string">&#x27;size&#x27;</span> =&gt; <span class="variable">$_FILES</span>[<span class="string">&#x27;image&#x27;</span>][<span class="string">&#x27;size&#x27;</span>][<span class="variable">$k</span>] </span><br><span class="line">        );</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_ invoke__">print_r</span>(<span class="variable">$images</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="文件上传后续问题"><a href="#文件上传后续问题" class="headerlink" title="文件上传后续问题"></a>文件上传后续问题</h3><p>实现上传功能代码的重复利用：封装上传函数</p>
<p>功能：上传文件</p>
<p>条件：条件判断</p>
<ol>
<li>需要上传的文件信息：对应的五个元素的数组</li>
<li>文件类型是否合适？外部指定MIME类型</li>
<li>文件存储到什么位置？外部指定</li>
<li>文件格式限制（后缀）？外部指定</li>
<li>文件大小限制？外部指定</li>
</ol>
<p>结果：实现文件上传</p>
<ol>
<li>成功：返回文件路径和名字</li>
<li>失败：返回false，指定错误原因</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">&#x27;Content-type:text/html;charset=utf-8&#x27;</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">实现文件上传（单文件）</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    1、array $file,需要上传的文件信息：一维五元素数组（name\tmp_name\error\size\type）</span></span><br><span class="line"><span class="comment">    2、array $allow_type,允许上传的MIME类型</span></span><br><span class="line"><span class="comment">    3、string $path,存储路径</span></span><br><span class="line"><span class="comment">    4、string $error，如果出错的原因</span></span><br><span class="line"><span class="comment">    5、array $allow_format = array(), 允许上传的文件格式</span></span><br><span class="line"><span class="comment">    6、int $max_size = 2000000，允许上传的最大值</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">upload_single</span>(<span class="params"><span class="variable">$file</span>,<span class="variable">$allow_type</span>, <span class="variable">$path</span>, &amp;<span class="variable">$error</span>, <span class="variable">$allow_format</span> = <span class="keyword">array</span>(<span class="params"></span>), <span class="variable">$max_size</span></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 判断文件是否有效</span></span><br><span class="line">    <span class="comment">// 文件无效</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_ invoke__">is_array</span>(<span class="variable">$file</span>) || !<span class="keyword">isset</span>(<span class="variable">$file</span>[<span class="string">&#x27;error&#x27;</span>]))&#123;</span><br><span class="line">        <span class="variable">$error</span> = <span class="string">&quot;不是一个有效的上传文件！&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断存储路径是否有效</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_ invoke__">is_dir</span>(<span class="variable">$path</span>))&#123;</span><br><span class="line">        <span class="comment">// 路径不存在</span></span><br><span class="line">        <span class="variable">$error</span> = <span class="string">&quot;文件存储路径不存在！&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断文件上传过程是否出错</span></span><br><span class="line">     <span class="keyword">switch</span>(<span class="variable">$file</span>[<span class="string">&#x27;error&#x27;</span>])&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="variable">$error</span> = <span class="string">&#x27;文件超过服务器大小!&#x27;</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="variable">$error</span> = <span class="string">&#x27;文件上传过程中出现我问题，只上传了一部分!&#x27;</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="variable">$error</span> = <span class="string">&#x27;用户没有选中要上传的文件！&#x27;</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            <span class="variable">$error</span> = <span class="string">&#x27;文件保存失败!&#x27;</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 判断MIME类型</span></span><br><span class="line">     <span class="keyword">if</span>(!<span class="title function_ invoke__">in_array</span>(<span class="variable">$file</span>[<span class="string">&#x27;type&#x27;</span>], <span class="variable">$allow_type</span>))&#123;</span><br><span class="line">        <span class="variable">$error</span> = <span class="string">&quot;当前文件类型不允许上传！&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断后缀是否允许</span></span><br><span class="line">    <span class="variable">$ext</span> = <span class="title function_ invoke__">ltrim</span>(<span class="title function_ invoke__">strrchr</span>(<span class="variable">$file</span>[<span class="string">&#x27;name&#x27;</span>], <span class="string">&#x27;.&#x27;</span>), <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">empty</span>(<span class="variable">$allow_format</span>) &amp;&amp; !<span class="title function_ invoke__">in_array</span>(<span class="variable">$ext</span>, <span class="variable">$allow_format</span>))&#123;</span><br><span class="line">        <span class="variable">$error</span> = <span class="string">&quot;当前文件格式不允许上传！&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断当前文件大小是否满足当前需求</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$file</span>[<span class="string">&#x27;size&#x27;</span>] &gt; <span class="variable">$max_size</span>)&#123;</span><br><span class="line">        <span class="comment">//文件过大</span></span><br><span class="line">        <span class="variable">$error</span> = <span class="string">&quot;当前上传的文件超出大小，最大允许&quot;</span>. <span class="variable">$max_size</span>.<span class="string">&quot;字节&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造文件名字：类型——年月日+随机字符串.$ext</span></span><br><span class="line">    <span class="variable">$fullname</span> = <span class="title function_ invoke__">strstr</span>(<span class="variable">$file</span>[<span class="string">&#x27;type&#x27;</span>], <span class="string">&#x27;/&#x27;</span>,<span class="literal">TRUE</span>) . <span class="title function_ invoke__">date</span>(<span class="string">&#x27;Ymd&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 产生随机字符串</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="variable">$i</span>=<span class="number">0</span>;<span class="variable">$i</span>&lt;<span class="number">4</span>;<span class="variable">$i</span>++)&#123;</span><br><span class="line">        <span class="variable">$fullname</span> .= <span class="title function_ invoke__">chr</span>(<span class="title function_ invoke__">mt_rand</span>(<span class="number">65</span>,<span class="number">90</span>)); </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 拼凑后缀</span></span><br><span class="line">    <span class="variable">$fullname</span> .= <span class="string">&#x27;.&#x27;</span>.<span class="variable">$ext</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 移动到指定目录</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_ invoke__">is_uploaded_file</span>(<span class="variable">$file</span>[<span class="string">&#x27;tmp_name&#x27;</span>]))&#123;</span><br><span class="line">        <span class="variable">$error</span> = <span class="string">&quot;不是上传文件！&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_ invoke__">move_uploaded_file</span>(<span class="variable">$file</span>[<span class="string">&#x27;tmp_name&#x27;</span>],<span class="variable">$path</span> . <span class="string">&#x27;/&#x27;</span> . <span class="variable">$fullname</span>))&#123;</span><br><span class="line">        <span class="comment">//成功</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$fullname</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable">$error</span> = <span class="string">&quot;文件移动失败&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 提供数据</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$file</span> = <span class="variable">$_FILES</span>[<span class="string">&#x27;image&#x27;</span>];</span><br><span class="line"><span class="variable">$allow_type</span> = <span class="keyword">array</span>(<span class="string">&#x27;image/jpg&#x27;</span>,<span class="string">&#x27;image/jpeg&#x27;</span>,<span class="string">&#x27;image/gif&#x27;</span>,<span class="string">&#x27;image/png&#x27;</span>);</span><br><span class="line"><span class="variable">$path</span> = <span class="string">&quot;upload&quot;</span>;</span><br><span class="line"><span class="variable">$allow_format</span> = <span class="keyword">array</span>(<span class="string">&#x27;jpg&#x27;</span>,<span class="string">&#x27;png&#x27;</span>,<span class="string">&#x27;jpeg&#x27;</span>,<span class="string">&#x27;gif&#x27;</span>);</span><br><span class="line"><span class="variable">$max_size</span> = <span class="number">8000000</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$filename</span> = <span class="title function_ invoke__">upload_single</span>(<span class="variable">$file</span>,<span class="variable">$allow_type</span>, <span class="variable">$path</span>, <span class="variable">$error</span>, <span class="variable">$allow_format</span>, <span class="variable">$max_size</span>))&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$filename</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$error</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>  <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span> <span class="attr">action</span>=<span class="string">&quot;1.php&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;image&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">name</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">value</span>=<span class="string">&quot;文件上传&quot;</span>/&gt;</span> </span><br><span class="line">   <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Mysql扩展"><a href="#Mysql扩展" class="headerlink" title="Mysql扩展"></a>Mysql扩展</h2><h3 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql_connect(服务器地址,用户名,密码)</span><br></pre></td></tr></table></figure>

<h3 id="设置连接编码"><a href="#设置连接编码" class="headerlink" title="设置连接编码"></a>设置连接编码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">形式1：mysql_query(&quot;set names XXX&quot;)</span><br><span class="line">形式1: mysql_set_charset(&quot;xxx&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="选定要使用的数据库"><a href="#选定要使用的数据库" class="headerlink" title="选定要使用的数据库"></a>选定要使用的数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">形式1：mysql_query(&quot;use XXX&quot;)</span><br><span class="line">形式2：mysql_select_db(&quot;XXX&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="增删改查"><a href="#增删改查" class="headerlink" title="增删改查"></a>增删改查</h3><h3 id="关闭连接"><a href="#关闭连接" class="headerlink" title="关闭连接"></a>关闭连接</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql_close()</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$co</span> = <span class="title function_ invoke__">mysql_connect</span>(<span class="string">&#x27;localhost:3306&#x27;</span>,<span class="string">&#x27;root&#x27;</span>,<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// var_dump($co);</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$sn</span> = <span class="title function_ invoke__">mysql_query</span>(<span class="string">&#x27;set names utf8&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// var_dump($sn);</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$db</span> = <span class="title function_ invoke__">mysql_query</span>(<span class="string">&#x27;use test&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$db</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">mysql_close</span>();</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h2><h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/03/27/php-0/" data-id="clu9uc1wt00034c4zbl539mtt" data-title="PHP" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2024/03/27/Python/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Python
        
      </div>
    </a>
  
  
    <a href="/2024/03/27/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/03/27/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">博客搭建</a>
          </li>
        
          <li>
            <a href="/2024/03/27/JAVA/">JAVA</a>
          </li>
        
          <li>
            <a href="/2024/03/27/Python/">Python</a>
          </li>
        
          <li>
            <a href="/2024/03/27/php-0/">PHP</a>
          </li>
        
          <li>
            <a href="/2024/03/27/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>